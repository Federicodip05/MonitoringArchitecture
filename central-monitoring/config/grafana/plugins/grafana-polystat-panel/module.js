/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","react","@grafana/ui","lodash","@emotion/css","d3","@grafana/runtime"],((e,t,o,r,l,a,n)=>(()=>{var i={5689:(e,t,o)=>{"use strict";const r=o(2811),l=Symbol("max"),a=Symbol("length"),n=Symbol("lengthCalculator"),i=Symbol("allowStale"),s=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),m=()=>1,g=(e,t,o)=>{const r=e[h].get(t);if(r){const t=r.value;if(f(e,t)){if(y(e,r),!e[i])return}else o&&(e[p]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},f=(e,t)=>{if(!t||!t.maxAge&&!e[s])return!1;const o=Date.now()-t.now;return t.maxAge?o>t.maxAge:e[s]&&o>e[s]},b=e=>{if(e[a]>e[l])for(let t=e[d].tail;e[a]>e[l]&&null!==t;){const o=t.prev;y(e,t),t=o}},y=(e,t)=>{if(t){const o=t.value;e[c]&&e[c](o.key,o.value),e[a]-=o.length,e[h].delete(o.key),e[d].removeNode(t)}};class v{constructor(e,t,o,r,l){this.key=e,this.value=t,this.length=o,this.now=r,this.maxAge=l||0}}const E=(e,t,o,r)=>{let l=o.value;f(e,l)&&(y(e,o),e[i]||(l=void 0)),l&&t.call(r,l.value,l.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[l]=e.max||1/0;const t=e.length||m;if(this[n]="function"!=typeof t?m:t,this[i]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[s]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[l]=e||1/0,b(this)}get max(){return this[l]}set allowStale(e){this[i]=!!e}get allowStale(){return this[i]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[s]=e,b(this)}get maxAge(){return this[s]}set lengthCalculator(e){"function"!=typeof e&&(e=m),e!==this[n]&&(this[n]=e,this[a]=0,this[d].forEach((e=>{e.length=this[n](e.value,e.key),this[a]+=e.length}))),b(this)}get lengthCalculator(){return this[n]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let o=this[d].tail;null!==o;){const r=o.prev;E(this,e,o,t),o=r}}forEach(e,t){t=t||this;for(let o=this[d].head;null!==o;){const r=o.next;E(this,e,o,t),o=r}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach((e=>this[c](e.key,e.value))),this[h]=new Map,this[d]=new r,this[a]=0}dump(){return this[d].map((e=>!f(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,o){if((o=o||this[s])&&"number"!=typeof o)throw new TypeError("maxAge must be a number");const r=o?Date.now():0,i=this[n](t,e);if(this[h].has(e)){if(i>this[l])return y(this,this[h].get(e)),!1;const n=this[h].get(e).value;return this[c]&&(this[u]||this[c](e,n.value)),n.now=r,n.maxAge=o,n.value=t,this[a]+=i-n.length,n.length=i,this.get(e),b(this),!0}const p=new v(e,t,i,r,o);return p.length>this[l]?(this[c]&&this[c](e,t),!1):(this[a]+=p.length,this[d].unshift(p),this[h].set(e,this[d].head),b(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!f(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let o=e.length-1;o>=0;o--){const r=e[o],l=r.e||0;if(0===l)this.set(r.k,r.v);else{const e=l-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[h].forEach(((e,t)=>g(this,t,!1)))}}},9375:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},2811:(e,t,o)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var o=0,l=arguments.length;o<l;o++)t.push(arguments[o]);return t}function l(e,t,o,r){if(!(this instanceof l))return new l(e,t,o,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,o?(o.prev=this,this.next=o):this.next=null}e.exports=r,r.Node=l,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,o=e.prev;return t&&(t.prev=o),o&&(o.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=o),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)r=arguments[e],(o=this).tail=new l(r,o.tail,null,o),o.head||(o.head=o.tail),o.length++;var o,r;return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)r=arguments[e],(o=this).head=new l(r,null,o.head,o),o.tail||(o.tail=o.head),o.length++;var o,r;return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var o=this.head,r=0;null!==o;r++)e.call(t,o.value,r,this),o=o.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var o=this.tail,r=this.length-1;null!==o;r--)e.call(t,o.value,r,this),o=o.prev},r.prototype.get=function(e){for(var t=0,o=this.head;null!==o&&t<e;t++)o=o.next;if(t===e&&null!==o)return o.value},r.prototype.getReverse=function(e){for(var t=0,o=this.tail;null!==o&&t<e;t++)o=o.prev;if(t===e&&null!==o)return o.value},r.prototype.map=function(e,t){t=t||this;for(var o=new r,l=this.head;null!==l;)o.push(e.call(t,l.value,this)),l=l.next;return o},r.prototype.mapReverse=function(e,t){t=t||this;for(var o=new r,l=this.tail;null!==l;)o.push(e.call(t,l.value,this)),l=l.prev;return o},r.prototype.reduce=function(e,t){var o,r=this.head;if(arguments.length>1)o=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,o=this.head.value}for(var l=0;null!==r;l++)o=e(o,r.value,l),r=r.next;return o},r.prototype.reduceReverse=function(e,t){var o,r=this.tail;if(arguments.length>1)o=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,o=this.tail.value}for(var l=this.length-1;null!==r;l--)o=e(o,r.value,l),r=r.prev;return o},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,o=this.head;null!==o;t++)e[t]=o.value,o=o.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,o=this.tail;null!==o;t++)e[t]=o.value,o=o.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var o=new r;if(t<e||t<0)return o;e<0&&(e=0),t>this.length&&(t=this.length);for(var l=0,a=this.head;null!==a&&l<e;l++)a=a.next;for(;null!==a&&l<t;l++,a=a.next)o.push(a.value);return o},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var o=new r;if(t<e||t<0)return o;e<0&&(e=0),t>this.length&&(t=this.length);for(var l=this.length,a=this.tail;null!==a&&l>t;l--)a=a.prev;for(;null!==a&&l>e;l--,a=a.prev)o.push(a.value);return o},r.prototype.splice=function(e,t,...o){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,a=this.head;null!==a&&r<e;r++)a=a.next;var n,i,s,c,u=[];for(r=0;a&&r<t;r++)u.push(a.value),a=this.removeNode(a);for(null===a&&(a=this.tail),a!==this.head&&a!==this.tail&&(a=a.prev),r=0;r<o.length;r++)n=this,i=a,s=o[r],c=void 0,null===(c=i===n.head?new l(s,null,i,n):new l(s,i,i.next,n)).next&&(n.tail=c),null===c.prev&&(n.head=c),n.length++,a=c;return u},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,o=e;null!==o;o=o.prev){var r=o.prev;o.prev=o.next,o.next=r}return this.head=t,this.tail=e,this};try{o(9375)(r)}catch(e){}},9524:(e,t,o)=>{const r=Symbol("SemVer ANY");class l{static get ANY(){return r}constructor(e,t){if(t=a(t),e instanceof l){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],o=e.match(t);if(!o)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==o[1]?o[1]:"","="===this.operator&&(this.operator=""),o[2]?this.semver=new u(o[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return s(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof l))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=a(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(s(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(s(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=l;const a=o(7095),{safeRe:n,t:i}=o(6850),s=o(3811),c=o(9796),u=o(7944),d=o(8395)},8395:(e,t,o)=>{class r{constructor(e,t){if(t=a(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof n)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,o=l.get(t);if(o)return o;const r=this.options.loose,a=r?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];e=e.replace(a,F(this.options.includePrerelease)),i("hyphen replace",e),e=e.replace(c[u.COMPARATORTRIM],d),i("comparator trim",e),e=e.replace(c[u.TILDETRIM],h),i("tilde trim",e),e=e.replace(c[u.CARETTRIM],p),i("caret trim",e);let s=e.split(" ").map((e=>v(e,this.options))).join(" ").split(/\s+/).map((e=>R(e,this.options)));r&&(s=s.filter((e=>(i("loose invalid filter",e,this.options),!!e.match(c[u.COMPARATORLOOSE]))))),i("range list",s);const b=new Map,y=s.map((e=>new n(e,this.options)));for(const e of y){if(f(e))return[e];b.set(e.value,e)}b.size>1&&b.has("")&&b.delete("");const E=[...b.values()];return l.set(t,E),E}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((o=>y(o,t)&&e.set.some((e=>y(e,t)&&o.every((o=>e.every((e=>o.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new s(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const l=new(o(5689))({max:1e3}),a=o(7095),n=o(9524),i=o(9796),s=o(7944),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=o(6850),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=o(9630),f=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,y=(e,t)=>{let o=!0;const r=e.slice();let l=r.pop();for(;o&&r.length;)o=r.every((e=>l.intersects(e,t))),l=r.pop();return o},v=(e,t)=>(i("comp",e,t),e=S(e,t),i("caret",e),e=w(e,t),i("tildes",e),e=C(e,t),i("xrange",e),e=O(e,t),i("stars",e),e),E=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map((e=>T(e,t))).join(" "),T=(e,t)=>{const o=t.loose?c[u.TILDELOOSE]:c[u.TILDE];return e.replace(o,((t,o,r,l,a)=>{let n;return i("tilde",e,t,o,r,l,a),E(o)?n="":E(r)?n=`>=${o}.0.0 <${+o+1}.0.0-0`:E(l)?n=`>=${o}.${r}.0 <${o}.${+r+1}.0-0`:a?(i("replaceTilde pr",a),n=`>=${o}.${r}.${l}-${a} <${o}.${+r+1}.0-0`):n=`>=${o}.${r}.${l} <${o}.${+r+1}.0-0`,i("tilde return",n),n}))},S=(e,t)=>e.trim().split(/\s+/).map((e=>x(e,t))).join(" "),x=(e,t)=>{i("caret",e,t);const o=t.loose?c[u.CARETLOOSE]:c[u.CARET],r=t.includePrerelease?"-0":"";return e.replace(o,((t,o,l,a,n)=>{let s;return i("caret",e,t,o,l,a,n),E(o)?s="":E(l)?s=`>=${o}.0.0${r} <${+o+1}.0.0-0`:E(a)?s="0"===o?`>=${o}.${l}.0${r} <${o}.${+l+1}.0-0`:`>=${o}.${l}.0${r} <${+o+1}.0.0-0`:n?(i("replaceCaret pr",n),s="0"===o?"0"===l?`>=${o}.${l}.${a}-${n} <${o}.${l}.${+a+1}-0`:`>=${o}.${l}.${a}-${n} <${o}.${+l+1}.0-0`:`>=${o}.${l}.${a}-${n} <${+o+1}.0.0-0`):(i("no pr"),s="0"===o?"0"===l?`>=${o}.${l}.${a}${r} <${o}.${l}.${+a+1}-0`:`>=${o}.${l}.${a}${r} <${o}.${+l+1}.0-0`:`>=${o}.${l}.${a} <${+o+1}.0.0-0`),i("caret return",s),s}))},C=(e,t)=>(i("replaceXRanges",e,t),e.split(/\s+/).map((e=>N(e,t))).join(" ")),N=(e,t)=>{e=e.trim();const o=t.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return e.replace(o,((o,r,l,a,n,s)=>{i("xRange",e,o,r,l,a,n,s);const c=E(l),u=c||E(a),d=u||E(n),h=d;return"="===r&&h&&(r=""),s=t.includePrerelease?"-0":"",c?o=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(u&&(a=0),n=0,">"===r?(r=">=",u?(l=+l+1,a=0,n=0):(a=+a+1,n=0)):"<="===r&&(r="<",u?l=+l+1:a=+a+1),"<"===r&&(s="-0"),o=`${r+l}.${a}.${n}${s}`):u?o=`>=${l}.0.0${s} <${+l+1}.0.0-0`:d&&(o=`>=${l}.${a}.0${s} <${l}.${+a+1}.0-0`),i("xRange return",o),o}))},O=(e,t)=>(i("replaceStars",e,t),e.trim().replace(c[u.STAR],"")),R=(e,t)=>(i("replaceGTE0",e,t),e.trim().replace(c[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),F=e=>(t,o,r,l,a,n,i,s,c,u,d,h,p)=>`${o=E(r)?"":E(l)?`>=${r}.0.0${e?"-0":""}`:E(a)?`>=${r}.${l}.0${e?"-0":""}`:n?`>=${o}`:`>=${o}${e?"-0":""}`} ${s=E(c)?"":E(u)?`<${+c+1}.0.0-0`:E(d)?`<${c}.${+u+1}.0-0`:h?`<=${c}.${u}.${d}-${h}`:e?`<${c}.${u}.${+d+1}-0`:`<=${s}`}`.trim(),A=(e,t,o)=>{for(let o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!o.includePrerelease){for(let o=0;o<e.length;o++)if(i(e[o].semver),e[o].semver!==n.ANY&&e[o].semver.prerelease.length>0){const r=e[o].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},7944:(e,t,o)=>{const r=o(9796),{MAX_LENGTH:l,MAX_SAFE_INTEGER:a}=o(9630),{safeRe:n,t:i}=o(6850),s=o(7095),{compareIdentifiers:c}=o(4031);class u{constructor(e,t){if(t=s(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>l)throw new TypeError(`version is longer than ${l} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const o=e.trim().match(t.loose?n[i.LOOSE]:n[i.FULL]);if(!o)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const o=this.prerelease[t],l=e.prerelease[t];if(r("prerelease compare",t,o,l),void 0===o&&void 0===l)return 0;if(void 0===l)return 1;if(void 0===o)return-1;if(o!==l)return c(o,l)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const o=this.build[t],l=e.build[t];if(r("prerelease compare",t,o,l),void 0===o&&void 0===l)return 0;if(void 0===l)return 1;if(void 0===o)return-1;if(o!==l)return c(o,l)}while(++t)}inc(e,t,o){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,o);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,o);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,o),this.inc("pre",t,o);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,o),this.inc("pre",t,o);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(o)?1:0;if(!t&&!1===o)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===o)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===o&&(r=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},7994:(e,t,o)=>{const r=o(5860);e.exports=(e,t)=>{const o=r(e.trim().replace(/^[=v]+/,""),t);return o?o.version:null}},3811:(e,t,o)=>{const r=o(6909),l=o(7659),a=o(144),n=o(2077),i=o(599),s=o(7092);e.exports=(e,t,o,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof o&&(o=o.version),e===o;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof o&&(o=o.version),e!==o;case"":case"=":case"==":return r(e,o,c);case"!=":return l(e,o,c);case">":return a(e,o,c);case">=":return n(e,o,c);case"<":return i(e,o,c);case"<=":return s(e,o,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},5334:(e,t,o)=>{const r=o(7944),l=o(5860),{safeRe:a,t:n}=o(6850);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let o=null;if((t=t||{}).rtl){const r=t.includePrerelease?a[n.COERCERTLFULL]:a[n.COERCERTL];let l;for(;(l=r.exec(e))&&(!o||o.index+o[0].length!==e.length);)o&&l.index+l[0].length===o.index+o[0].length||(o=l),r.lastIndex=l.index+l[1].length+l[2].length;r.lastIndex=-1}else o=e.match(t.includePrerelease?a[n.COERCEFULL]:a[n.COERCE]);if(null===o)return null;const i=o[2],s=o[3]||"0",c=o[4]||"0",u=t.includePrerelease&&o[5]?`-${o[5]}`:"",d=t.includePrerelease&&o[6]?`+${o[6]}`:"";return l(`${i}.${s}.${c}${u}${d}`,t)}},2801:(e,t,o)=>{const r=o(7944);e.exports=(e,t,o)=>{const l=new r(e,o),a=new r(t,o);return l.compare(a)||l.compareBuild(a)}},7023:(e,t,o)=>{const r=o(5380);e.exports=(e,t)=>r(e,t,!0)},5380:(e,t,o)=>{const r=o(7944);e.exports=(e,t,o)=>new r(e,o).compare(new r(t,o))},660:(e,t,o)=>{const r=o(5860);e.exports=(e,t)=>{const o=r(e,null,!0),l=r(t,null,!0),a=o.compare(l);if(0===a)return null;const n=a>0,i=n?o:l,s=n?l:o,c=!!i.prerelease.length;if(s.prerelease.length&&!c)return s.patch||s.minor?i.patch?"patch":i.minor?"minor":"major":"major";const u=c?"pre":"";return o.major!==l.major?u+"major":o.minor!==l.minor?u+"minor":o.patch!==l.patch?u+"patch":"prerelease"}},6909:(e,t,o)=>{const r=o(5380);e.exports=(e,t,o)=>0===r(e,t,o)},144:(e,t,o)=>{const r=o(5380);e.exports=(e,t,o)=>r(e,t,o)>0},2077:(e,t,o)=>{const r=o(5380);e.exports=(e,t,o)=>r(e,t,o)>=0},5955:(e,t,o)=>{const r=o(7944);e.exports=(e,t,o,l,a)=>{"string"==typeof o&&(a=l,l=o,o=void 0);try{return new r(e instanceof r?e.version:e,o).inc(t,l,a).version}catch(e){return null}}},599:(e,t,o)=>{const r=o(5380);e.exports=(e,t,o)=>r(e,t,o)<0},7092:(e,t,o)=>{const r=o(5380);e.exports=(e,t,o)=>r(e,t,o)<=0},2966:(e,t,o)=>{const r=o(7944);e.exports=(e,t)=>new r(e,t).major},5986:(e,t,o)=>{const r=o(7944);e.exports=(e,t)=>new r(e,t).minor},7659:(e,t,o)=>{const r=o(5380);e.exports=(e,t,o)=>0!==r(e,t,o)},5860:(e,t,o)=>{const r=o(7944);e.exports=(e,t,o=!1)=>{if(e instanceof r)return e;try{return new r(e,t)}catch(e){if(!o)return null;throw e}}},1617:(e,t,o)=>{const r=o(7944);e.exports=(e,t)=>new r(e,t).patch},9613:(e,t,o)=>{const r=o(5860);e.exports=(e,t)=>{const o=r(e,t);return o&&o.prerelease.length?o.prerelease:null}},2862:(e,t,o)=>{const r=o(5380);e.exports=(e,t,o)=>r(t,e,o)},6033:(e,t,o)=>{const r=o(2801);e.exports=(e,t)=>e.sort(((e,o)=>r(o,e,t)))},1722:(e,t,o)=>{const r=o(8395);e.exports=(e,t,o)=>{try{t=new r(t,o)}catch(e){return!1}return t.test(e)}},603:(e,t,o)=>{const r=o(2801);e.exports=(e,t)=>e.sort(((e,o)=>r(e,o,t)))},7645:(e,t,o)=>{const r=o(5860);e.exports=(e,t)=>{const o=r(e,t);return o?o.version:null}},8449:(e,t,o)=>{const r=o(6850),l=o(9630),a=o(7944),n=o(4031),i=o(5860),s=o(7645),c=o(7994),u=o(5955),d=o(660),h=o(2966),p=o(5986),m=o(1617),g=o(9613),f=o(5380),b=o(2862),y=o(7023),v=o(2801),E=o(603),w=o(6033),T=o(144),S=o(599),x=o(6909),C=o(7659),N=o(2077),O=o(7092),R=o(3811),F=o(5334),A=o(9524),k=o(8395),I=o(1722),L=o(651),D=o(7840),$=o(7930),P=o(3489),_=o(7494),M=o(5463),z=o(7871),V=o(4266),j=o(1112),U=o(1465),B=o(9252);e.exports={parse:i,valid:s,clean:c,inc:u,diff:d,major:h,minor:p,patch:m,prerelease:g,compare:f,rcompare:b,compareLoose:y,compareBuild:v,sort:E,rsort:w,gt:T,lt:S,eq:x,neq:C,gte:N,lte:O,cmp:R,coerce:F,Comparator:A,Range:k,satisfies:I,toComparators:L,maxSatisfying:D,minSatisfying:$,minVersion:P,validRange:_,outside:M,gtr:z,ltr:V,intersects:j,simplifyRange:U,subset:B,SemVer:a,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:l.SEMVER_SPEC_VERSION,RELEASE_TYPES:l.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}},9630:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9796:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},4031:e=>{const t=/^[0-9]+$/,o=(e,o)=>{const r=t.test(e),l=t.test(o);return r&&l&&(e=+e,o=+o),e===o?0:r&&!l?-1:l&&!r?1:e<o?-1:1};e.exports={compareIdentifiers:o,rcompareIdentifiers:(e,t)=>o(t,e)}},7095:e=>{const t=Object.freeze({loose:!0}),o=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:o},6850:(e,t,o)=>{const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:l,MAX_LENGTH:a}=o(9630),n=o(9796),i=(t=e.exports={}).re=[],s=t.safeRe=[],c=t.src=[],u=t.t={};let d=0;const h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",a],[h,l]],m=(e,t,o)=>{const r=(e=>{for(const[t,o]of p)e=e.split(`${t}*`).join(`${t}{0,${o}}`).split(`${t}+`).join(`${t}{1,${o}}`);return e})(t),l=d++;n(e,l,t),u[e]=l,c[l]=t,i[l]=new RegExp(t,o?"g":void 0),s[l]=new RegExp(r,o?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*"),m("NUMERICIDENTIFIERLOOSE","\\d+"),m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),m("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),m("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),m("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),m("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),m("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),m("BUILDIDENTIFIER",`${h}+`),m("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),m("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),m("FULL",`^${c[u.FULLPLAIN]}$`),m("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),m("LOOSE",`^${c[u.LOOSEPLAIN]}$`),m("GTLT","((?:<|>)?=?)"),m("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),m("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),m("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),m("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),m("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),m("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),m("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),m("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),m("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),m("COERCERTL",c[u.COERCE],!0),m("COERCERTLFULL",c[u.COERCEFULL],!0),m("LONETILDE","(?:~>?)"),m("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",m("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),m("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),m("LONECARET","(?:\\^)"),m("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",m("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),m("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),m("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),m("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),m("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",m("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),m("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),m("STAR","(<|>)?=?\\s*\\*"),m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7871:(e,t,o)=>{const r=o(5463);e.exports=(e,t,o)=>r(e,t,">",o)},1112:(e,t,o)=>{const r=o(8395);e.exports=(e,t,o)=>(e=new r(e,o),t=new r(t,o),e.intersects(t,o))},4266:(e,t,o)=>{const r=o(5463);e.exports=(e,t,o)=>r(e,t,"<",o)},7840:(e,t,o)=>{const r=o(7944),l=o(8395);e.exports=(e,t,o)=>{let a=null,n=null,i=null;try{i=new l(t,o)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(a&&-1!==n.compare(e)||(a=e,n=new r(a,o)))})),a}},7930:(e,t,o)=>{const r=o(7944),l=o(8395);e.exports=(e,t,o)=>{let a=null,n=null,i=null;try{i=new l(t,o)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(a&&1!==n.compare(e)||(a=e,n=new r(a,o)))})),a}},3489:(e,t,o)=>{const r=o(7944),l=o(8395),a=o(144);e.exports=(e,t)=>{e=new l(e,t);let o=new r("0.0.0");if(e.test(o))return o;if(o=new r("0.0.0-0"),e.test(o))return o;o=null;for(let t=0;t<e.set.length;++t){const l=e.set[t];let n=null;l.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!a(t,n)||(n=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!n||o&&!a(o,n)||(o=n)}return o&&e.test(o)?o:null}},5463:(e,t,o)=>{const r=o(7944),l=o(9524),{ANY:a}=l,n=o(8395),i=o(1722),s=o(144),c=o(599),u=o(7092),d=o(2077);e.exports=(e,t,o,h)=>{let p,m,g,f,b;switch(e=new r(e,h),t=new n(t,h),o){case">":p=s,m=u,g=c,f=">",b=">=";break;case"<":p=c,m=d,g=s,f="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(e,t,h))return!1;for(let o=0;o<t.set.length;++o){const r=t.set[o];let n=null,i=null;if(r.forEach((e=>{e.semver===a&&(e=new l(">=0.0.0")),n=n||e,i=i||e,p(e.semver,n.semver,h)?n=e:g(e.semver,i.semver,h)&&(i=e)})),n.operator===f||n.operator===b)return!1;if((!i.operator||i.operator===f)&&m(e,i.semver))return!1;if(i.operator===b&&g(e,i.semver))return!1}return!0}},1465:(e,t,o)=>{const r=o(1722),l=o(5380);e.exports=(e,t,o)=>{const a=[];let n=null,i=null;const s=e.sort(((e,t)=>l(e,t,o)));for(const e of s)r(e,t,o)?(i=e,n||(n=e)):(i&&a.push([n,i]),i=null,n=null);n&&a.push([n,null]);const c=[];for(const[e,t]of a)e===t?c.push(e):t||e!==s[0]?t?e===s[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},9252:(e,t,o)=>{const r=o(8395),l=o(9524),{ANY:a}=l,n=o(1722),i=o(5380),s=[new l(">=0.0.0-0")],c=[new l(">=0.0.0")],u=(e,t,o)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=o.includePrerelease?s:c}if(1===t.length&&t[0].semver===a){if(o.includePrerelease)return!0;t=c}const r=new Set;let l,u,p,m,g,f,b;for(const t of e)">"===t.operator||">="===t.operator?l=d(l,t,o):"<"===t.operator||"<="===t.operator?u=h(u,t,o):r.add(t.semver);if(r.size>1)return null;if(l&&u){if(p=i(l.semver,u.semver,o),p>0)return null;if(0===p&&(">="!==l.operator||"<="!==u.operator))return null}for(const e of r){if(l&&!n(e,String(l),o))return null;if(u&&!n(e,String(u),o))return null;for(const r of t)if(!n(e,String(r),o))return!1;return!0}let y=!(!u||o.includePrerelease||!u.semver.prerelease.length)&&u.semver,v=!(!l||o.includePrerelease||!l.semver.prerelease.length)&&l.semver;y&&1===y.prerelease.length&&"<"===u.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(b=b||">"===e.operator||">="===e.operator,f=f||"<"===e.operator||"<="===e.operator,l)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),">"===e.operator||">="===e.operator){if(m=d(l,e,o),m===e&&m!==l)return!1}else if(">="===l.operator&&!n(l.semver,String(e),o))return!1;if(u)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(g=h(u,e,o),g===e&&g!==u)return!1}else if("<="===u.operator&&!n(u.semver,String(e),o))return!1;if(!e.operator&&(u||l)&&0!==p)return!1}return!(l&&f&&!u&&0!==p||u&&b&&!l&&0!==p||v||y)},d=(e,t,o)=>{if(!e)return t;const r=i(e.semver,t.semver,o);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},h=(e,t,o)=>{if(!e)return t;const r=i(e.semver,t.semver,o);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,o={})=>{if(e===t)return!0;e=new r(e,o),t=new r(t,o);let l=!1;e:for(const r of e.set){for(const e of t.set){const t=u(r,e,o);if(l=l||null!==t,t)continue e}if(l)return!1}return!0}},651:(e,t,o)=>{const r=o(8395);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},7494:(e,t,o)=>{const r=o(8395);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},6089:e=>{"use strict";e.exports=l},7781:t=>{"use strict";t.exports=e},8531:e=>{"use strict";e.exports=n},2007:e=>{"use strict";e.exports=o},4201:e=>{"use strict";e.exports=a},3241:e=>{"use strict";e.exports=r},5959:e=>{"use strict";e.exports=t},4452:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function l(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=n(e,a(o)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return l.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)r.call(e,o)&&e[o]&&(t=n(t,o));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(l.default=l,e.exports=l):void 0===(o=function(){return l}.apply(t,[]))||(e.exports=o)}()}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var o=s[e]={exports:{}};return i[e](o,o.exports,c),o.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var o in t)c.o(t,o)&&!c.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return(()=>{"use strict";c.r(u),c.d(u,{plugin:()=>Yo});var e,t=c(7781);!function(e){e.HEXAGON_POINTED_TOP="hexagon_pointed_top",e.CIRCLE="circle",e.SQUARE="square"}(e||(e={}));const o=[{value:"hexagon_pointed_top",label:"Hexagon Pointed Top"},{value:"circle",label:"Circle"},{value:"square",label:"Square"}],r=[{value:"mean",label:"Mean (avg)"},{value:"sum",label:"Sum"},{value:"min",label:"Min"},{value:"max",label:"Max"},{value:"last",label:"Last"},{value:"lastNotNull",label:"Last Not Null"},{value:"first",label:"First"},{value:"firstNotNull",label:"First Not Null"},{value:"count",label:"Count"},{value:"allIsNull",label:"All Is Null (boolean)"},{value:"allIsZero",label:"All Is Zero (boolean)"},{value:"delta",label:"Delta"},{value:"diff",label:"Difference"},{value:"diffperc",label:"Difference (Percent)"},{value:"last_time",label:"Time of Last Point"},{value:"logmin",label:"Log Min"},{value:"name",label:"Name"},{value:"nonNullCount",label:"Non Null Count"},{value:"previousDeltaUp",label:"Previous Delta Up"},{value:"range",label:"Range"},{value:"step",label:"Step"}],l=[{value:0,label:"Disabled"},{value:1,label:"Alphabetical (asc)"},{value:2,label:"Alphabetical (desc)"},{value:3,label:"Numerical (asc)"},{value:4,label:"Numerical (desc)"},{value:5,label:"Alphabetical (case-insensitive, asc)"},{value:6,label:"Alphabetical (case-insensitive, desc)"}],a=[{value:"name",label:"Name"},{value:"thresholdLevel",label:"Threshold Level"},{value:"value",label:"Value"}],n=[{value:"all",label:"Show All"},{value:"triggered",label:"Show Triggered"}];var i;!function(e){e.ARIAL="Arial",e.HELVETICA="Helvetica",e.HELVETICA_NEUE="Helvetica Neue",e.INTER="Inter",e.ROBOTO="Roboto",e.ROBOTO_MONO="Roboto Mono"}(i||(i={}));const s=[{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Helvetica Neue",label:"Helvetica Neue"},{value:"Inter",label:"Inter"},{value:"Roboto Mono",label:"Roboto Mono"}],d=[{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Helvetica Neue",label:"Helvetica Neue"},{value:"Roboto",label:"Roboto"},{value:"Roboto Mono",label:"Roboto Mono"}],h=[{value:"HH:mm:ss",label:"HH:mm:ss"},{value:"YYYY-MM-DD HH:mm",label:"YYYY-MM-DD HH:mm"},{value:"YYYY-MM-DD HH:mm:ss",label:"YYYY-MM-DD HH:mm:ss"},{value:"YYYY-MM-DD HH:mm:ss.SSS",label:"YYYY-MM-DD HH:mm:ss.SSS"},{value:"MM/DD/YY h:mm:ss a",label:"MM/DD/YY h:mm:ss a"},{value:"MMMM D, YYYY LT",label:"MMMM D, YYYY LT"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"}];var p;!function(e){e.BELOW_VALUE="below_value",e.ABOVE_VALUE="above_value"}(p||(p={}));const m=[{value:"above_value",label:"Above Value"},{value:"below_value",label:"Below Value"}];var g,f=c(5959),b=c.n(f),y=c(2007),v=c(3241),E=new Uint8Array(16);function w(){if(!g&&!(g="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(E)}const T=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var S=[],x=0;x<256;++x)S.push((x+256).toString(16).substr(1));const C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(S[e[t+0]]+S[e[t+1]]+S[e[t+2]]+S[e[t+3]]+"-"+S[e[t+4]]+S[e[t+5]]+"-"+S[e[t+6]]+S[e[t+7]]+"-"+S[e[t+8]]+S[e[t+9]]+"-"+S[e[t+10]]+S[e[t+11]]+S[e[t+12]]+S[e[t+13]]+S[e[t+14]]+S[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&T.test(e)}(o))throw TypeError("Stringified UUID is invalid");return o},N=function(e,t,o){var r=(e=e||{}).random||(e.rng||w)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){o=o||0;for(var l=0;l<16;++l)t[o+l]=r[l];return t}return C(r)};var O=c(6089);const R=[{value:0,label:"ok"},{value:1,label:"warning"},{value:2,label:"critical"},{value:3,label:"custom"}],F=e=>{const t=(0,y.useStyles2)(A),[o,r]=(0,f.useState)((e=>{const t=R.keys();for(const o of t)if(R[o].value===e)return R[o];return R[0]})(e.threshold.state));return b().createElement(y.Input,{disabled:e.disabled,type:"number",step:"1.0",key:e.ID,onChange:t=>e.valueSetter(e.index,Number(t.currentTarget.value)),value:e.threshold.value,prefix:b().createElement("div",{className:t.inputPrefix},b().createElement("div",{className:t.colorPicker},b().createElement(y.ColorPicker,{color:e.threshold.color,onChange:t=>e.colorSetter(e.index,t),enableNamedColors:!0}))),suffix:b().createElement(b().Fragment,null,b().createElement(y.Select,{disabled:e.disabled,menuShouldPortal:!0,value:o,onChange:t=>{r(t),e.stateSetter(e.index,t.value)},options:R}),b().createElement(y.IconButton,{disabled:e.disabled,key:"deleteThreshold",variant:"destructive",name:"trash-alt",tooltip:"Delete Threshold",onClick:()=>e.remover(e.index)}))})},A=e=>({inputPrefix:O.css`
      display: flex;
      align-items: center;
    `,colorPicker:O.css`
      padding: 0 ${e.spacing(1)};
    `});function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class I{asHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}asRGB(){return"rgb("+this.r+","+this.g+","+this.b+")"}blendWith(e,t){const o=Math.round(e.r*(1-t)+this.r*t),r=Math.round(e.g*(1-t)+this.g*t),l=Math.round(e.b*(1-t)+this.b*t);return new I(o,r,l)}Mul(e,t){const o=Math.round(e.r/255*this.r*t),r=Math.round(e.g/255*this.g*t),l=Math.round(e.b/255*this.b*t);return new I(o,r,l)}RGBToHex(e){let t=e.indexOf(",")>-1?",":" ";e=e.substr(4).split(")")[0].split(t);for(let t in e){let o=e[t];o.indexOf("%")>-1&&(e[t]=Math.round(o.substr(0,o.length-1)/100*255))}}static RGBAToHex(e){const t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),o=(t&&t[4]||"").trim();let r=t?(256|parseInt(t[1],10)).toString(16).slice(1)+(256|parseInt(t[2],10)).toString(16).slice(1)+(256|parseInt(t[3],10)).toString(16).slice(1):e,l="1";return""!==o&&(l=(255*parseFloat(o)|256).toString(16).slice(1)),"#"+r+l}fromHex(e){e=e.substring(1,7);const t=parseInt(e,16);this.r=t>>16&255,this.g=t>>8&255,this.b=255&t}constructor(e,t,o){k(this,"r",void 0),k(this,"g",void 0),k(this,"b",void 0),this.r=e,this.g=t,this.b=o}}const L="rgba(10, 85, 161, 1)",D=(new I(10,85,161),"#299c46"),$=new I(41,156,70),P="#ed8128",_=new I(237,129,40),M="#f53636",z=new I(245,54,54),V=(new I(64,64,160),i.INTER),j=i.INTER,U=i.ROBOTO,B=i.ROBOTO,H=e=>{const[o,r]=(0,f.useState)((()=>{if(!e.thresholds)return[];const t=[];return e.thresholds.forEach(((e,o)=>{t[o]={threshold:e,order:o,ID:N()}})),t})),l=(0,y.useTheme2)(),a=(0,y.useTheme)(),n=t=>{r(t);const o=[];t.forEach((e=>{o.push(e.threshold)})),e.setter(o)},i=(e,t)=>{o[e].threshold.value=Number(t);const r=[...o],l=(0,v.orderBy)(r,["threshold.value"],["asc"]);n([...l])},s=(e,r)=>{let i;i=void 0!==l.visualization?l.visualization.getColorByName(r):(0,t.getColorForTheme)(r,a),o[e].threshold.color=i,n([...o])},c=(e,t)=>{o[e].threshold.state=t,t<3&&(o[e].threshold.color=u(t)),n([...o])},u=e=>{switch(e){case 0:default:return D;case 1:return P;case 2:return M}},d=e=>{const t=[...o];let r=0;for(let o=0;o<t.length;o++)if(t[o].order===e){r=o;break}t.splice(r,1);for(let e=0;e<t.length;e++)t[e].order=e;n([...t])};return b().createElement(b().Fragment,null,b().createElement(y.Button,{disabled:e.disabled,fill:"solid",variant:"primary",icon:"plus",onClick:()=>{const e=o.length,t={threshold:{color:D,state:0,value:0},order:e,ID:N()};n([...o,t])}},"Add Threshold"),o&&o.map(((t,o)=>b().createElement(F,{disabled:e.disabled||!1,key:`threshold-item-index-${t.ID}`,ID:t.ID,threshold:t.threshold,valueSetter:i,colorSetter:s,stateSetter:c,remover:d,index:o}))))},G=e=>{let o=new Set;for(let n=0;n<e.length;n++){var r;let i="";(null===(r=e[n])||void 0===r?void 0:r.name)&&(i=e[n].name);for(const r of e[n].fields)if(r.type===t.FieldType.number){var l,a;if(r.name&&""===i&&(i=r.name),(null==r?void 0:r.labels)&&"__name__"in r.labels){i=r.labels.__name__;const e=[];for(const t in r.labels)"__name__"!==t&&e.push(`${t}="${r.labels[t]}"`);e.length>0&&(e.sort(),i+="{"+e.join("")+"}")}(null==r?void 0:r.config)&&(null===(l=r.config)||void 0===l?void 0:l.displayNameFromDS)&&(i=null===(a=r.config)||void 0===a?void 0:a.displayNameFromDS),o.add(i)}}return o};function Y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function X(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){Y(e,t,o[t])}))}return e}function W(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o.push.apply(o,r)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}const q=e=>{const[t,o]=(0,f.useState)([]),[l,a]=(0,f.useState)(e.override),n=t=>{a(t),e.setter(l.order,t)},[i]=(0,f.useState)("eye"),[s]=(0,f.useState)("eye-slash"),[c,u]=(0,f.useState)((e=>{const t=r.keys();for(const o of t)if(r[o].value===e)return r[o];return r[5]})(e.override.operatorName));return(0,f.useEffect)((()=>{if(e.context.data){const t=e.context.data;let r=[],l=G(t);for(const e of l)r.push({label:e,value:e});o(r)}}),[e.context.data]),b().createElement(y.Card,{key:`override-card-${e.ID}`},b().createElement(y.Card.Meta,null,b().createElement(y.FieldSet,null,b().createElement(y.Field,{label:"Label",description:"Sets the name of the override in the configuration editor.",disabled:!l.enabled},b().createElement(y.Input,{value:l.label,placeholder:"",onChange:e=>n(W(X({},l),{label:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Metric/RegEx",disabled:!l.enabled},b().createElement(y.Cascader,{initialValue:l.metricName,allowCustomValue:!0,placeholder:"",options:t,onSelect:e=>n(W(X({},l),{metricName:e}))})),b().createElement(y.Field,{label:"Alias",disabled:!l.enabled,hidden:!0},b().createElement(y.Input,{value:l.alias,placeholder:"",onChange:e=>n(W(X({},l),{alias:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Decimals",disabled:!l.enabled},b().createElement(y.Input,{value:l.decimals,type:"number",step:1,placeholder:"",onChange:e=>n(W(X({},l),{decimals:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Stat",description:"The statistic to be displayed",disabled:!l.enabled},b().createElement(y.Select,{menuShouldPortal:!0,value:c,onChange:e=>{u(e),n(W(X({},l),{operatorName:e.value}))},options:r})),b().createElement(y.Field,{label:"Unit Format",disabled:!l.enabled},l.enabled?b().createElement(y.UnitPicker,{value:l.unitFormat,onChange:e=>n(W(X({},l),{unitFormat:e}))}):b().createElement("span",null,l.unitFormat)),b().createElement(y.Field,{label:"Thresholds",disabled:!l.enabled},b().createElement(H,{disabled:!l.enabled,thresholds:l.thresholds,setter:e=>{n(W(X({},l),{thresholds:e}))}})),b().createElement(y.Field,{label:"Prefix",description:"Apply text to beginning of metric",disabled:!l.enabled},b().createElement(y.Input,{value:l.prefix,placeholder:"",onChange:e=>n(W(X({},l),{prefix:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Suffix",description:"Apply text to end of metric",disabled:!l.enabled},b().createElement(y.Input,{value:l.suffix,placeholder:"",onChange:e=>n(W(X({},l),{suffix:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Clickthrough URL",description:"URL to Open on Click",disabled:!l.enabled},b().createElement(y.Input,{value:l.clickThrough,placeholder:"https://",onChange:e=>n(W(X({},l),{clickThrough:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Sanitize URL",description:"Sanitize URL before evaluating",disabled:!l.enabled},b().createElement(y.Switch,{transparent:!1,disabled:!l.enabled,value:l.clickThroughSanitize,onChange:()=>n(W(X({},l),{clickThroughSanitize:!l.clickThroughSanitize}))})),b().createElement(y.Field,{label:"Open URL in New Tab",description:"Open link in new tab",disabled:!l.enabled},b().createElement(y.Switch,{transparent:!1,value:l.clickThroughOpenNewTab,disabled:!l.enabled,onChange:()=>n(W(X({},l),{clickThroughOpenNewTab:!l.clickThroughOpenNewTab}))})),b().createElement(y.Field,{label:"Enable Custom URL Target",description:"Enable custom target",disabled:!l.enabled,hidden:l.clickThroughOpenNewTab},b().createElement(y.Switch,{transparent:!1,value:l.clickThroughCustomTargetEnabled,disabled:!l.enabled,onChange:()=>n(W(X({},l),{clickThroughCustomTargetEnabled:!l.clickThroughCustomTargetEnabled,clickThroughCustomTarget:l.clickThroughCustomTarget||""}))})),b().createElement(y.Field,{label:"Custom URL Target",description:"Specify a custom target, typical values are: _blank|_self|_parent|_top|framename",disabled:!l.enabled,hidden:!l.clickThroughCustomTargetEnabled},b().createElement(y.Input,{value:l.clickThroughCustomTarget,placeholder:"_self",disabled:!l.enabled,onChange:e=>n(W(X({},l),{clickThroughCustomTarget:e.currentTarget.value}))})))),b().createElement(y.Card.Actions,null,b().createElement(y.IconButton,{key:"moveUp",name:"arrow-up",tooltip:"Move Up",onClick:()=>{e.moveUp(l.order)}}),b().createElement(y.IconButton,{key:"moveDown",name:"arrow-down",tooltip:"Move Down",onClick:()=>{e.moveDown(l.order)}}),b().createElement(y.IconButton,{key:"overrideEnabled",name:l.enabled?i:s,tooltip:"Hide/Show Override",onClick:()=>n(W(X({},l),{enabled:!l.enabled}))}),b().createElement(y.IconButton,{key:"copyOverride",name:"copy",tooltip:"Duplicate",onClick:()=>{e.createDuplicate(l.order)}}),b().createElement(y.IconButton,{key:"deleteOverride",variant:"destructive",name:"trash-alt",tooltip:"Delete Override",onClick:()=>{e.remover(l.order)}})))},Q=({item:e,context:t,onChange:o})=>{const[l]=(0,f.useState)(t.options.overrideConfig),[a,n]=(0,f.useState)((()=>{if(!l.overrides)return[];const e=[];return l.overrides.forEach(((t,o)=>{e[o]={override:t,order:o,ID:N()}})),e})),i=e=>{n(e);const t=[];e.forEach((e=>{t.push(e.override)}));const r={overrides:t,enabled:l.enabled};o(r)},[s,c]=(0,f.useState)((()=>{if(!a)return[];let e=a.length;const t=[];for(;e--;)t[e]=!1;return t})),u=(e,t)=>{a[e].override=t,i([...a])},d=e=>{const t=a[e].override,o=a.length,r={override:{label:`${t.label} Copy`,enabled:t.enabled,metricName:t.metricName,alias:t.alias,thresholds:t.thresholds,prefix:t.prefix,suffix:t.suffix,clickThrough:t.clickThrough,clickThroughOpenNewTab:t.clickThroughOpenNewTab,clickThroughSanitize:t.clickThroughSanitize,clickThroughCustomTargetEnabled:t.clickThroughCustomTargetEnabled,clickThroughCustomTarget:t.clickThroughCustomTarget,showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0,unitFormat:t.unitFormat,scaledDecimals:t.scaledDecimals,decimals:t.decimals,colors:t.colors,operatorName:t.operatorName,order:o},order:o,ID:N()};i([...a,r]),c([...s,!0])},p=(e,t,o)=>{if(o>=e.length){let t=o-e.length+1;for(;t--;)e.push(void 0)}e.splice(o,0,e.splice(t,1)[0])},m=e=>{if(e!==a.length-1){p(a,e,e+1);for(let e=0;e<a.length;e++)a[e].order=e,a[e].override.order=e;i([...a])}},g=e=>{if(e>0){p(a,e,e-1);for(let e=0;e<a.length;e++)a[e].order=e,a[e].override.order=e;i([...a])}},v=e=>{const t=[...a];let o=0;for(let r=0;r<t.length;r++)if(t[r].order===e){o=r;break}t.splice(o,1);for(let e=0;e<t.length;e++)t[e].order=e,t[e].override.order=e;i([...t])};return b().createElement(b().Fragment,null,b().createElement(y.Button,{fill:"solid",variant:"primary",icon:"plus",onClick:()=>{const e=a.length,t={override:{label:`Override-${e}`,enabled:!0,metricName:"",alias:"",thresholds:[],prefix:"",suffix:"",clickThrough:"",clickThroughOpenNewTab:!0,clickThroughSanitize:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:"",showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0,unitFormat:"short",scaledDecimals:null,decimals:"2",colors:[D,P,M,"#0a55a1"],operatorName:r[0].value,order:e},order:e,ID:N()};i([...a,t]),c([...s,!0])}},"Add Override"),a&&a.map(((e,o)=>b().createElement(y.Collapse,{key:`collapse-item-index-${e.ID}`,label:e.override.label,isOpen:s[o],onToggle:()=>(e=>{const t=[...s];t[e]=!t[e],c([...t])})(o),collapsible:!0},b().createElement(q,{key:`override-item-index-${e.ID}`,ID:e.ID,override:e.override,enabled:e.override.enabled,setter:u,remover:v,moveDown:m,moveUp:g,createDuplicate:d,context:t})))))};var K=c(4201),J=Math.PI/3,Z=[0,J,2*J,3*J,4*J,5*J];function ee(e){return e[0]}function te(e){return e[1]}const oe=Math.min,re=Math.max,le=Math.round,ae=Math.floor,ne=e=>({x:e,y:e}),ie={left:"right",right:"left",bottom:"top",top:"bottom"},se={start:"end",end:"start"};function ce(e,t,o){return re(e,oe(t,o))}function ue(e,t){return"function"==typeof e?e(t):e}function de(e){return e.split("-")[0]}function he(e){return e.split("-")[1]}function pe(e){return"x"===e?"y":"x"}function me(e){return"y"===e?"height":"width"}function ge(e){return["top","bottom"].includes(de(e))?"y":"x"}function fe(e){return pe(ge(e))}function be(e){return e.replace(/start|end/g,(e=>se[e]))}function ye(e){return e.replace(/left|right|bottom|top/g,(e=>ie[e]))}function ve(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Ee(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function we(e,t,o){let{reference:r,floating:l}=e;const a=ge(t),n=fe(t),i=me(n),s=de(t),c="y"===a,u=r.x+r.width/2-l.width/2,d=r.y+r.height/2-l.height/2,h=r[i]/2-l[i]/2;let p;switch(s){case"top":p={x:u,y:r.y-l.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-l.width,y:d};break;default:p={x:r.x,y:r.y}}switch(he(t)){case"start":p[n]-=h*(o&&c?-1:1);break;case"end":p[n]+=h*(o&&c?-1:1)}return p}async function Te(e,t){var o;void 0===t&&(t={});const{x:r,y:l,platform:a,rects:n,elements:i,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=ue(t,e),m=ve(p),g=i[h?"floating"===d?"reference":"floating":d],f=Ee(await a.getClippingRect({element:null==(o=await(null==a.isElement?void 0:a.isElement(g)))||o?g:g.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(i.floating)),boundary:c,rootBoundary:u,strategy:s})),b="floating"===d?{...n.floating,x:r,y:l}:n.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(i.floating)),v=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},E=Ee(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:b,offsetParent:y,strategy:s}):b);return{top:(f.top-E.top+m.top)/v.y,bottom:(E.bottom-f.bottom+m.bottom)/v.y,left:(f.left-E.left+m.left)/v.x,right:(E.right-f.right+m.right)/v.x}}const Se=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var o,r;const{x:l,y:a,placement:n,middlewareData:i}=t,s=await async function(e,t){const{placement:o,platform:r,elements:l}=e,a=await(null==r.isRTL?void 0:r.isRTL(l.floating)),n=de(o),i=he(o),s="y"===ge(o),c=["left","top"].includes(n)?-1:1,u=a&&s?-1:1,d=ue(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return i&&"number"==typeof m&&(p="end"===i?-1*m:m),s?{x:p*u,y:h*c}:{x:h*c,y:p*u}}(t,e);return n===(null==(o=i.offset)?void 0:o.placement)&&null!=(r=i.arrow)&&r.alignmentOffset?{}:{x:l+s.x,y:a+s.y,data:{...s,placement:n}}}}};function xe(e){return Oe(e)?(e.nodeName||"").toLowerCase():"#document"}function Ce(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ne(e){var t;return null==(t=(Oe(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Oe(e){return e instanceof Node||e instanceof Ce(e).Node}function Re(e){return e instanceof Element||e instanceof Ce(e).Element}function Fe(e){return e instanceof HTMLElement||e instanceof Ce(e).HTMLElement}function Ae(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Ce(e).ShadowRoot)}function ke(e){const{overflow:t,overflowX:o,overflowY:r,display:l}=Pe(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+o)&&!["inline","contents"].includes(l)}function Ie(e){return["table","td","th"].includes(xe(e))}function Le(e){const t=De(),o=Pe(e);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!t&&!!o.backdropFilter&&"none"!==o.backdropFilter||!t&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((e=>(o.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(o.contain||"").includes(e)))}function De(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function $e(e){return["html","body","#document"].includes(xe(e))}function Pe(e){return Ce(e).getComputedStyle(e)}function _e(e){return Re(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Me(e){if("html"===xe(e))return e;const t=e.assignedSlot||e.parentNode||Ae(e)&&e.host||Ne(e);return Ae(t)?t.host:t}function ze(e){const t=Me(e);return $e(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fe(t)&&ke(t)?t:ze(t)}function Ve(e,t,o){var r;void 0===t&&(t=[]),void 0===o&&(o=!0);const l=ze(e),a=l===(null==(r=e.ownerDocument)?void 0:r.body),n=Ce(l);return a?t.concat(n,n.visualViewport||[],ke(l)?l:[],n.frameElement&&o?Ve(n.frameElement):[]):t.concat(l,Ve(l,[],o))}function je(e){const t=Pe(e);let o=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const l=Fe(e),a=l?e.offsetWidth:o,n=l?e.offsetHeight:r,i=le(o)!==a||le(r)!==n;return i&&(o=a,r=n),{width:o,height:r,$:i}}function Ue(e){return Re(e)?e:e.contextElement}function Be(e){const t=Ue(e);if(!Fe(t))return ne(1);const o=t.getBoundingClientRect(),{width:r,height:l,$:a}=je(t);let n=(a?le(o.width):o.width)/r,i=(a?le(o.height):o.height)/l;return n&&Number.isFinite(n)||(n=1),i&&Number.isFinite(i)||(i=1),{x:n,y:i}}const He=ne(0);function Ge(e){const t=Ce(e);return De()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:He}function Ye(e,t,o,r){void 0===t&&(t=!1),void 0===o&&(o=!1);const l=e.getBoundingClientRect(),a=Ue(e);let n=ne(1);t&&(r?Re(r)&&(n=Be(r)):n=Be(e));const i=function(e,t,o){return void 0===t&&(t=!1),!(!o||t&&o!==Ce(e))&&t}(a,o,r)?Ge(a):ne(0);let s=(l.left+i.x)/n.x,c=(l.top+i.y)/n.y,u=l.width/n.x,d=l.height/n.y;if(a){const e=Ce(a),t=r&&Re(r)?Ce(r):r;let o=e,l=o.frameElement;for(;l&&r&&t!==o;){const e=Be(l),t=l.getBoundingClientRect(),r=Pe(l),a=t.left+(l.clientLeft+parseFloat(r.paddingLeft))*e.x,n=t.top+(l.clientTop+parseFloat(r.paddingTop))*e.y;s*=e.x,c*=e.y,u*=e.x,d*=e.y,s+=a,c+=n,o=Ce(l),l=o.frameElement}}return Ee({width:u,height:d,x:s,y:c})}const Xe=[":popover-open",":modal"];function We(e){return Xe.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function qe(e){return Ye(Ne(e)).left+_e(e).scrollLeft}function Qe(e,t,o){let r;if("viewport"===t)r=function(e,t){const o=Ce(e),r=Ne(e),l=o.visualViewport;let a=r.clientWidth,n=r.clientHeight,i=0,s=0;if(l){a=l.width,n=l.height;const e=De();(!e||e&&"fixed"===t)&&(i=l.offsetLeft,s=l.offsetTop)}return{width:a,height:n,x:i,y:s}}(e,o);else if("document"===t)r=function(e){const t=Ne(e),o=_e(e),r=e.ownerDocument.body,l=re(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=re(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let n=-o.scrollLeft+qe(e);const i=-o.scrollTop;return"rtl"===Pe(r).direction&&(n+=re(t.clientWidth,r.clientWidth)-l),{width:l,height:a,x:n,y:i}}(Ne(e));else if(Re(t))r=function(e,t){const o=Ye(e,!0,"fixed"===t),r=o.top+e.clientTop,l=o.left+e.clientLeft,a=Fe(e)?Be(e):ne(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:l*a.x,y:r*a.y}}(t,o);else{const o=Ge(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Ee(r)}function Ke(e,t){const o=Me(e);return!(o===t||!Re(o)||$e(o))&&("fixed"===Pe(o).position||Ke(o,t))}function Je(e,t,o){const r=Fe(t),l=Ne(t),a="fixed"===o,n=Ye(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const s=ne(0);if(r||!r&&!a)if(("body"!==xe(t)||ke(l))&&(i=_e(t)),r){const e=Ye(t,!0,a,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else l&&(s.x=qe(l));return{x:n.left+i.scrollLeft-s.x,y:n.top+i.scrollTop-s.y,width:n.width,height:n.height}}function Ze(e,t){return Fe(e)&&"fixed"!==Pe(e).position?t?t(e):e.offsetParent:null}function et(e,t){const o=Ce(e);if(!Fe(e)||We(e))return o;let r=Ze(e,t);for(;r&&Ie(r)&&"static"===Pe(r).position;)r=Ze(r,t);return r&&("html"===xe(r)||"body"===xe(r)&&"static"===Pe(r).position&&!Le(r))?o:r||function(e){let t=Me(e);for(;Fe(t)&&!$e(t);){if(Le(t))return t;t=Me(t)}return null}(e)||o}const tt={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:o,offsetParent:r,strategy:l}=e;const a="fixed"===l,n=Ne(r),i=!!t&&We(t.floating);if(r===n||i&&a)return o;let s={scrollLeft:0,scrollTop:0},c=ne(1);const u=ne(0),d=Fe(r);if((d||!d&&!a)&&(("body"!==xe(r)||ke(n))&&(s=_e(r)),Fe(r))){const e=Ye(r);c=Be(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-s.scrollLeft*c.x+u.x,y:o.y*c.y-s.scrollTop*c.y+u.y}},getDocumentElement:Ne,getClippingRect:function(e){let{element:t,boundary:o,rootBoundary:r,strategy:l}=e;const a=[..."clippingAncestors"===o?function(e,t){const o=t.get(e);if(o)return o;let r=Ve(e,[],!1).filter((e=>Re(e)&&"body"!==xe(e))),l=null;const a="fixed"===Pe(e).position;let n=a?Me(e):e;for(;Re(n)&&!$e(n);){const t=Pe(n),o=Le(n);o||"fixed"!==t.position||(l=null),(a?!o&&!l:!o&&"static"===t.position&&l&&["absolute","fixed"].includes(l.position)||ke(n)&&!o&&Ke(e,n))?r=r.filter((e=>e!==n)):l=t,n=Me(n)}return t.set(e,r),r}(t,this._c):[].concat(o),r],n=a[0],i=a.reduce(((e,o)=>{const r=Qe(t,o,l);return e.top=re(r.top,e.top),e.right=oe(r.right,e.right),e.bottom=oe(r.bottom,e.bottom),e.left=re(r.left,e.left),e}),Qe(t,n,l));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:et,getElementRects:async function(e){const t=this.getOffsetParent||et,o=this.getDimensions;return{reference:Je(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await o(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:o}=je(e);return{width:t,height:o}},getScale:Be,isElement:Re,isRTL:function(e){return"rtl"===Pe(e).direction}};const ot=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:r,placement:l}=t,{mainAxis:a=!0,crossAxis:n=!1,limiter:i={fn:e=>{let{x:t,y:o}=e;return{x:t,y:o}}},...s}=ue(e,t),c={x:o,y:r},u=await Te(t,s),d=ge(de(l)),h=pe(d);let p=c[h],m=c[d];if(a){const e="y"===h?"bottom":"right";p=ce(p+u["y"===h?"top":"left"],p,p-u[e])}if(n){const e="y"===d?"bottom":"right";m=ce(m+u["y"===d?"top":"left"],m,m-u[e])}const g=i.fn({...t,[h]:p,[d]:m});return{...g,data:{x:g.x-o,y:g.y-r}}}}},rt=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var o,r;const{placement:l,middlewareData:a,rects:n,initialPlacement:i,platform:s,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...f}=ue(e,t);if(null!=(o=a.arrow)&&o.alignmentOffset)return{};const b=de(l),y=de(i)===i,v=await(null==s.isRTL?void 0:s.isRTL(c.floating)),E=h||(y||!g?[ye(i)]:function(e){const t=ye(e);return[be(e),t,be(t)]}(i));h||"none"===m||E.push(...function(e,t,o,r){const l=he(e);let a=function(e,t,o){const r=["left","right"],l=["right","left"],a=["top","bottom"],n=["bottom","top"];switch(e){case"top":case"bottom":return o?t?l:r:t?r:l;case"left":case"right":return t?a:n;default:return[]}}(de(e),"start"===o,r);return l&&(a=a.map((e=>e+"-"+l)),t&&(a=a.concat(a.map(be)))),a}(i,g,m,v));const w=[i,...E],T=await Te(t,f),S=[];let x=(null==(r=a.flip)?void 0:r.overflows)||[];if(u&&S.push(T[b]),d){const e=function(e,t,o){void 0===o&&(o=!1);const r=he(e),l=fe(e),a=me(l);let n="x"===l?r===(o?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[a]>t.floating[a]&&(n=ye(n)),[n,ye(n)]}(l,n,v);S.push(T[e[0]],T[e[1]])}if(x=[...x,{placement:l,overflows:S}],!S.every((e=>e<=0))){var C,N;const e=((null==(C=a.flip)?void 0:C.index)||0)+1,t=w[e];if(t)return{data:{index:e,overflows:x},reset:{placement:t}};let o=null==(N=x.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:N.placement;if(!o)switch(p){case"bestFit":{var O;const e=null==(O=x.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:O[0];e&&(o=e);break}case"initialPlacement":o=i}if(l!==o)return{reset:{placement:o}}}return{}}}},lt=(e,t,o)=>{const r=new Map,l={platform:tt,...o},a={...l.platform,_c:r};return(async(e,t,o)=>{const{placement:r="bottom",strategy:l="absolute",middleware:a=[],platform:n}=o,i=a.filter(Boolean),s=await(null==n.isRTL?void 0:n.isRTL(t));let c=await n.getElementRects({reference:e,floating:t,strategy:l}),{x:u,y:d}=we(c,r,s),h=r,p={},m=0;for(let o=0;o<i.length;o++){const{name:a,fn:g}=i[o],{x:f,y:b,data:y,reset:v}=await g({x:u,y:d,initialPlacement:r,placement:h,strategy:l,middlewareData:p,rects:c,platform:n,elements:{reference:e,floating:t}});u=null!=f?f:u,d=null!=b?b:d,p={...p,[a]:{...p[a],...y}},v&&m<=50&&(m++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await n.getElementRects({reference:e,floating:t,strategy:l}):v.rects),({x:u,y:d}=we(c,h,s))),o=-1)}return{x:u,y:d,placement:h,strategy:l,middlewareData:p}})(e,t,{...l,platform:a})};var at=c(4452);const nt={core:!1,base:!1};function it({css:e,id:t="react-tooltip-base-styles",type:o="base",ref:r}){var l,a;if(!e||"undefined"==typeof document||nt[o])return;if("core"===o&&"undefined"!=typeof process&&(null===(l=null===process||void 0===process?void 0:process.env)||void 0===l?void 0:l.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if("base"!==o&&"undefined"!=typeof process&&(null===(a=null===process||void 0===process?void 0:process.env)||void 0===a?void 0:a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===o&&(t="react-tooltip-core-styles"),r||(r={});const{insertAt:n}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.id=t,s.type="text/css","top"===n&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),nt[o]=!0}const st=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:o=null,place:r="top",offset:l=10,strategy:a="absolute",middlewares:n=[Se(Number(l)),rt({fallbackAxisSideDirection:"start"}),ot({padding:5})],border:i})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(null===t)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const s=n;return o?(s.push({name:"arrow",options:c={element:o,padding:5},async fn(e){const{x:t,y:o,placement:r,rects:l,platform:a,elements:n,middlewareData:i}=e,{element:s,padding:u=0}=ue(c,e)||{};if(null==s)return{};const d=ve(u),h={x:t,y:o},p=fe(r),m=me(p),g=await a.getDimensions(s),f="y"===p,b=f?"top":"left",y=f?"bottom":"right",v=f?"clientHeight":"clientWidth",E=l.reference[m]+l.reference[p]-h[p]-l.floating[m],w=h[p]-l.reference[p],T=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s));let S=T?T[v]:0;S&&await(null==a.isElement?void 0:a.isElement(T))||(S=n.floating[v]||l.floating[m]);const x=E/2-w/2,C=S/2-g[m]/2-1,N=oe(d[b],C),O=oe(d[y],C),R=N,F=S-g[m]-O,A=S/2-g[m]/2+x,k=ce(R,A,F),I=!i.arrow&&null!=he(r)&&A!==k&&l.reference[m]/2-(A<R?N:O)-g[m]/2<0,L=I?A<R?A-R:A-F:0;return{[p]:h[p]+L,data:{[p]:k,centerOffset:A-k-L,...I&&{alignmentOffset:L}},reset:I}}}),lt(e,t,{placement:r,strategy:a,middleware:s}).then((({x:e,y:t,placement:o,middlewareData:r})=>{var l,a;const n={left:`${e}px`,top:`${t}px`,border:i},{x:s,y:c}=null!==(l=r.arrow)&&void 0!==l?l:{x:0,y:0},u=null!==(a={top:"bottom",right:"left",bottom:"top",left:"right"}[o.split("-")[0]])&&void 0!==a?a:"bottom",d=i&&{borderBottom:i,borderRight:i};let h=0;if(i){const e=`${i}`.match(/(\d+)px/);h=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:n,tooltipArrowStyles:{left:null!=s?`${s}px`:"",top:null!=c?`${c}px`:"",right:"",bottom:"",...d,[u]:`-${4+h}px`},place:o}}))):lt(e,t,{placement:"bottom",strategy:a,middleware:s}).then((({x:e,y:t,placement:o})=>({tooltipStyles:{left:`${e}px`,top:`${t}px`},tooltipArrowStyles:{},place:o})));var c},ct=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),ut=(e,t,o)=>{let r=null;const l=function(...l){const a=()=>{r=null,o||e.apply(this,l)};o&&!r&&(e.apply(this,l),r=setTimeout(a,t)),o||(r&&clearTimeout(r),r=setTimeout(a,t))};return l.cancel=()=>{r&&(clearTimeout(r),r=null)},l},dt=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,ht=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,o)=>ht(e,t[o])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!dt(e)||!dt(t))return e===t;const o=Object.keys(e),r=Object.keys(t);return o.length===r.length&&o.every((o=>ht(e[o],t[o])))},pt=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((e=>{const o=t.getPropertyValue(e);return"auto"===o||"scroll"===o}))},mt=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(pt(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},gt="undefined"!=typeof window?f.useLayoutEffect:f.useEffect,ft={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},bt=(0,f.createContext)({getTooltipData:()=>ft});function yt(e="DEFAULT_TOOLTIP_ID"){return(0,f.useContext)(bt).getTooltipData(e)}var vt={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Et={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const wt=({forwardRef:e,id:t,className:o,classNameArrow:r,variant:l="dark",anchorId:a,anchorSelect:n,place:i="top",offset:s=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:h,wrapper:p,delayShow:m=0,delayHide:g=0,float:b=!1,hidden:y=!1,noArrow:v=!1,clickable:E=!1,closeOnEsc:w=!1,closeOnScroll:T=!1,closeOnResize:S=!1,openEvents:x,closeEvents:C,globalCloseEvents:N,imperativeModeOnly:O,style:R,position:F,afterShow:A,afterHide:k,content:I,contentWrapperRef:L,isOpen:D,defaultIsOpen:$=!1,setIsOpen:P,activeAnchor:_,setActiveAnchor:M,border:z,opacity:V,arrowColor:j,role:U="tooltip"})=>{var B;const H=(0,f.useRef)(null),G=(0,f.useRef)(null),Y=(0,f.useRef)(null),X=(0,f.useRef)(null),W=(0,f.useRef)(null),[q,Q]=(0,f.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:i}),[K,J]=(0,f.useState)(!1),[Z,ee]=(0,f.useState)(!1),[te,le]=(0,f.useState)(null),ne=(0,f.useRef)(!1),ie=(0,f.useRef)(null),{anchorRefs:se,setActiveAnchor:ce}=yt(t),ue=(0,f.useRef)(!1),[de,he]=(0,f.useState)([]),pe=(0,f.useRef)(!1),me=u||c.includes("click"),ge=me||(null==x?void 0:x.click)||(null==x?void 0:x.dblclick)||(null==x?void 0:x.mousedown),fe=x?{...x}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!x&&me&&Object.assign(fe,{mouseenter:!1,focus:!1,click:!0});const be=C?{...C}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!C&&me&&Object.assign(be,{mouseleave:!1,blur:!1});const ye=N?{...N}:{escape:w||!1,scroll:T||!1,resize:S||!1,clickOutsideAnchor:ge||!1};O&&(Object.assign(fe,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(be,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(ye,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),gt((()=>(pe.current=!0,()=>{pe.current=!1})),[]);const ve=e=>{pe.current&&(e&&ee(!0),setTimeout((()=>{pe.current&&(null==P||P(e),void 0===D&&J(e))}),10))};(0,f.useEffect)((()=>{if(void 0===D)return()=>null;D&&ee(!0);const e=setTimeout((()=>{J(D)}),10);return()=>{clearTimeout(e)}}),[D]),(0,f.useEffect)((()=>{if(K!==ne.current)if(W.current&&clearTimeout(W.current),ne.current=K,K)null==A||A();else{const e=(e=>{const t=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!t)return 0;const[,o,r]=t;return Number(o)*("ms"===r?1:1e3)})();W.current=setTimeout((()=>{ee(!1),le(null),null==k||k()}),e+25)}}),[K]);const Ee=e=>{Q((t=>ht(t,e)?t:e))},we=(e=m)=>{Y.current&&clearTimeout(Y.current),Z?ve(!0):Y.current=setTimeout((()=>{ve(!0)}),e)},Te=(e=g)=>{X.current&&clearTimeout(X.current),X.current=setTimeout((()=>{ue.current||ve(!1)}),e)},Se=e=>{var t;if(!e)return;const o=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==o?void 0:o.isConnected))return M(null),void ce({current:null});m?we():ve(!0),M(o),ce({current:o}),X.current&&clearTimeout(X.current)},xe=()=>{E?Te(g||100):g?Te():ve(!1),Y.current&&clearTimeout(Y.current)},Ce=({x:e,y:t})=>{var o;const r={getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,left:e,right:e,bottom:t})};st({place:null!==(o=null==te?void 0:te.place)&&void 0!==o?o:i,offset:s,elementReference:r,tooltipReference:H.current,tooltipArrowReference:G.current,strategy:d,middlewares:h,border:z}).then((e=>{Ee(e)}))},Oe=e=>{if(!e)return;const t=e,o={x:t.clientX,y:t.clientY};Ce(o),ie.current=o},Re=e=>{var t;if(!K)return;const o=e.target;o.isConnected&&((null===(t=H.current)||void 0===t?void 0:t.contains(o))||[document.querySelector(`[id='${a}']`),...de].some((e=>null==e?void 0:e.contains(o)))||(ve(!1),Y.current&&clearTimeout(Y.current)))},Fe=ut(Se,50,!0),Ae=ut(xe,50,!0),ke=e=>{Ae.cancel(),Fe(e)},Ie=()=>{Fe.cancel(),Ae()},Le=(0,f.useCallback)((()=>{var e,t;const o=null!==(e=null==te?void 0:te.position)&&void 0!==e?e:F;o?Ce(o):b?ie.current&&Ce(ie.current):(null==_?void 0:_.isConnected)&&st({place:null!==(t=null==te?void 0:te.place)&&void 0!==t?t:i,offset:s,elementReference:_,tooltipReference:H.current,tooltipArrowReference:G.current,strategy:d,middlewares:h,border:z}).then((e=>{pe.current&&Ee(e)}))}),[K,_,I,R,i,null==te?void 0:te.place,s,d,F,null==te?void 0:te.position,b]);(0,f.useEffect)((()=>{var e,t;const o=new Set(se);de.forEach((e=>{o.add({current:e})}));const r=document.querySelector(`[id='${a}']`);r&&o.add({current:r});const l=()=>{ve(!1)},n=mt(_),i=mt(H.current);ye.scroll&&(window.addEventListener("scroll",l),null==n||n.addEventListener("scroll",l),null==i||i.addEventListener("scroll",l));let s=null;ye.resize?window.addEventListener("resize",l):_&&H.current&&(s=function(e,t,o,r){void 0===r&&(r={});const{ancestorScroll:l=!0,ancestorResize:a=!0,elementResize:n="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:s=!1}=r,c=Ue(e),u=l||a?[...c?Ve(c):[],...Ve(t)]:[];u.forEach((e=>{l&&e.addEventListener("scroll",o,{passive:!0}),a&&e.addEventListener("resize",o)}));const d=c&&i?function(e,t){let o,r=null;const l=Ne(e);function a(){var e;clearTimeout(o),null==(e=r)||e.disconnect(),r=null}return function n(i,s){void 0===i&&(i=!1),void 0===s&&(s=1),a();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(i||t(),!d||!h)return;const p={rootMargin:-ae(u)+"px "+-ae(l.clientWidth-(c+d))+"px "+-ae(l.clientHeight-(u+h))+"px "+-ae(c)+"px",threshold:re(0,oe(1,s))||1};let m=!0;function g(e){const t=e[0].intersectionRatio;if(t!==s){if(!m)return n();t?n(!1,t):o=setTimeout((()=>{n(!1,1e-7)}),100)}m=!1}try{r=new IntersectionObserver(g,{...p,root:l.ownerDocument})}catch(e){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),a}(c,o):null;let h,p=-1,m=null;n&&(m=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=m)||e.observe(t)}))),o()})),c&&!s&&m.observe(c),m.observe(t));let g=s?Ye(e):null;return s&&function t(){const r=Ye(e);!g||r.x===g.x&&r.y===g.y&&r.width===g.width&&r.height===g.height||o(),g=r,h=requestAnimationFrame(t)}(),o(),()=>{var e;u.forEach((e=>{l&&e.removeEventListener("scroll",o),a&&e.removeEventListener("resize",o)})),null==d||d(),null==(e=m)||e.disconnect(),m=null,s&&cancelAnimationFrame(h)}}(_,H.current,Le,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const c=e=>{"Escape"===e.key&&ve(!1)};ye.escape&&window.addEventListener("keydown",c),ye.clickOutsideAnchor&&window.addEventListener("click",Re);const u=[],d=e=>{K&&(null==e?void 0:e.target)===_||Se(e)},h=e=>{K&&(null==e?void 0:e.target)===_&&xe()},p=["mouseenter","mouseleave","focus","blur"],m=["click","dblclick","mousedown","mouseup"];Object.entries(fe).forEach((([e,t])=>{t&&(p.includes(e)?u.push({event:e,listener:ke}):m.includes(e)&&u.push({event:e,listener:d}))})),Object.entries(be).forEach((([e,t])=>{t&&(p.includes(e)?u.push({event:e,listener:Ie}):m.includes(e)&&u.push({event:e,listener:h}))})),b&&u.push({event:"pointermove",listener:Oe});const g=()=>{ue.current=!0},f=()=>{ue.current=!1,xe()};return E&&!ge&&(null===(e=H.current)||void 0===e||e.addEventListener("mouseenter",g),null===(t=H.current)||void 0===t||t.addEventListener("mouseleave",f)),u.forEach((({event:e,listener:t})=>{o.forEach((o=>{var r;null===(r=o.current)||void 0===r||r.addEventListener(e,t)}))})),()=>{var e,t;ye.scroll&&(window.removeEventListener("scroll",l),null==n||n.removeEventListener("scroll",l),null==i||i.removeEventListener("scroll",l)),ye.resize?window.removeEventListener("resize",l):null==s||s(),ye.clickOutsideAnchor&&window.removeEventListener("click",Re),ye.escape&&window.removeEventListener("keydown",c),E&&!ge&&(null===(e=H.current)||void 0===e||e.removeEventListener("mouseenter",g),null===(t=H.current)||void 0===t||t.removeEventListener("mouseleave",f)),u.forEach((({event:e,listener:t})=>{o.forEach((o=>{var r;null===(r=o.current)||void 0===r||r.removeEventListener(e,t)}))}))}}),[_,Le,Z,se,de,x,C,N,me,m,g]),(0,f.useEffect)((()=>{var e,o;let r=null!==(o=null!==(e=null==te?void 0:te.anchorSelect)&&void 0!==e?e:n)&&void 0!==o?o:"";!r&&t&&(r=`[data-tooltip-id='${t}']`);const l=new MutationObserver((e=>{const o=[],l=[];e.forEach((e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===t?o.push(e.target):e.oldValue===t&&l.push(e.target)),"childList"===e.type){if(_){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(r)try{l.push(...t.filter((e=>e.matches(r)))),l.push(...t.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,_))&&(ee(!1),ve(!1),M(null),Y.current&&clearTimeout(Y.current),X.current&&clearTimeout(X.current),!0)}))}if(r)try{const t=[...e.addedNodes].filter((e=>1===e.nodeType));o.push(...t.filter((e=>e.matches(r)))),o.push(...t.flatMap((e=>[...e.querySelectorAll(r)])))}catch(e){}}})),(o.length||l.length)&&he((e=>[...e.filter((e=>!l.includes(e))),...o]))}));return l.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{l.disconnect()}}),[t,n,null==te?void 0:te.anchorSelect,_]),(0,f.useEffect)((()=>{Le()}),[Le]),(0,f.useEffect)((()=>{if(!(null==L?void 0:L.current))return()=>null;const e=new ResizeObserver((()=>{setTimeout((()=>Le()))}));return e.observe(L.current),()=>{e.disconnect()}}),[I,null==L?void 0:L.current]),(0,f.useEffect)((()=>{var e;const t=document.querySelector(`[id='${a}']`),o=[...de,t];_&&o.includes(_)||M(null!==(e=de[0])&&void 0!==e?e:t)}),[a,de,_]),(0,f.useEffect)((()=>($&&ve(!0),()=>{Y.current&&clearTimeout(Y.current),X.current&&clearTimeout(X.current)})),[]),(0,f.useEffect)((()=>{var e;let o=null!==(e=null==te?void 0:te.anchorSelect)&&void 0!==e?e:n;if(!o&&t&&(o=`[data-tooltip-id='${t}']`),o)try{const e=Array.from(document.querySelectorAll(o));he(e)}catch(e){he([])}}),[t,n,null==te?void 0:te.anchorSelect]),(0,f.useEffect)((()=>{Y.current&&(clearTimeout(Y.current),we(m))}),[m]);const De=null!==(B=null==te?void 0:te.content)&&void 0!==B?B:I,$e=K&&Object.keys(q.tooltipStyles).length>0;return(0,f.useImperativeHandle)(e,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] "${e.anchorSelect}" is not a valid CSS selector`)}le(null!=e?e:null),(null==e?void 0:e.delay)?we(e.delay):ve(!0)},close:e=>{(null==e?void 0:e.delay)?Te(e.delay):ve(!1)},activeAnchor:_,place:q.place,isOpen:Boolean(Z&&!y&&De&&$e)}))),Z&&!y&&De?f.createElement(p,{id:t,role:U,className:at("react-tooltip",vt.tooltip,Et.tooltip,Et[l],o,`react-tooltip__place-${q.place}`,vt[$e?"show":"closing"],$e?"react-tooltip__show":"react-tooltip__closing","fixed"===d&&vt.fixed,E&&vt.clickable),onTransitionEnd:e=>{W.current&&clearTimeout(W.current),K||"opacity"!==e.propertyName||(ee(!1),le(null),null==k||k())},style:{...R,...q.tooltipStyles,opacity:void 0!==V&&$e?V:void 0},ref:H},De,f.createElement(p,{className:at("react-tooltip-arrow",vt.arrow,Et.arrow,r,v&&vt.noArrow),style:{...q.tooltipArrowStyles,background:j?`linear-gradient(to right bottom, transparent 50%, ${j} 50%)`:void 0},ref:G})):null},Tt=({content:e})=>f.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),St=f.forwardRef((({id:e,anchorId:t,anchorSelect:o,content:r,html:l,render:a,className:n,classNameArrow:i,variant:s="dark",place:c="top",offset:u=10,wrapper:d="div",children:h=null,events:p=["hover"],openOnClick:m=!1,positionStrategy:g="absolute",middlewares:b,delayShow:y=0,delayHide:v=0,float:E=!1,hidden:w=!1,noArrow:T=!1,clickable:S=!1,closeOnEsc:x=!1,closeOnScroll:C=!1,closeOnResize:N=!1,openEvents:O,closeEvents:R,globalCloseEvents:F,imperativeModeOnly:A=!1,style:k,position:I,isOpen:L,defaultIsOpen:D=!1,disableStyleInjection:$=!1,border:P,opacity:_,arrowColor:M,setIsOpen:z,afterShow:V,afterHide:j,role:U="tooltip"},B)=>{const[H,G]=(0,f.useState)(r),[Y,X]=(0,f.useState)(l),[W,q]=(0,f.useState)(c),[Q,K]=(0,f.useState)(s),[J,Z]=(0,f.useState)(u),[ee,te]=(0,f.useState)(y),[oe,re]=(0,f.useState)(v),[le,ae]=(0,f.useState)(E),[ne,ie]=(0,f.useState)(w),[se,ce]=(0,f.useState)(d),[ue,de]=(0,f.useState)(p),[he,pe]=(0,f.useState)(g),[me,ge]=(0,f.useState)(null),[fe,be]=(0,f.useState)(null),ye=(0,f.useRef)($),{anchorRefs:ve,activeAnchor:Ee}=yt(e),we=e=>null==e?void 0:e.getAttributeNames().reduce(((t,o)=>{var r;return o.startsWith("data-tooltip-")&&(t[o.replace(/^data-tooltip-/,"")]=null!==(r=null==e?void 0:e.getAttribute(o))&&void 0!==r?r:null),t}),{}),Te=e=>{const t={place:e=>{var t;q(null!==(t=e)&&void 0!==t?t:c)},content:e=>{G(null!=e?e:r)},html:e=>{X(null!=e?e:l)},variant:e=>{var t;K(null!==(t=e)&&void 0!==t?t:s)},offset:e=>{Z(null===e?u:Number(e))},wrapper:e=>{var t;ce(null!==(t=e)&&void 0!==t?t:d)},events:e=>{const t=null==e?void 0:e.split(" ");de(null!=t?t:p)},"position-strategy":e=>{var t;pe(null!==(t=e)&&void 0!==t?t:g)},"delay-show":e=>{te(null===e?y:Number(e))},"delay-hide":e=>{re(null===e?v:Number(e))},float:e=>{ae(null===e?E:"true"===e)},hidden:e=>{ie(null===e?w:"true"===e)},"class-name":e=>{ge(e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((([e,o])=>{var r;null===(r=t[e])||void 0===r||r.call(t,o)}))};(0,f.useEffect)((()=>{G(r)}),[r]),(0,f.useEffect)((()=>{X(l)}),[l]),(0,f.useEffect)((()=>{q(c)}),[c]),(0,f.useEffect)((()=>{K(s)}),[s]),(0,f.useEffect)((()=>{Z(u)}),[u]),(0,f.useEffect)((()=>{te(y)}),[y]),(0,f.useEffect)((()=>{re(v)}),[v]),(0,f.useEffect)((()=>{ae(E)}),[E]),(0,f.useEffect)((()=>{ie(w)}),[w]),(0,f.useEffect)((()=>{pe(g)}),[g]),(0,f.useEffect)((()=>{ye.current!==$&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[$]),(0,f.useEffect)((()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===$,disableBase:$}}))}),[]),(0,f.useEffect)((()=>{var r;const l=new Set(ve);let a=o;if(!a&&e&&(a=`[data-tooltip-id='${e}']`),a)try{document.querySelectorAll(a).forEach((e=>{l.add({current:e})}))}catch(r){console.warn(`[react-tooltip] "${a}" is not a valid CSS selector`)}const n=document.querySelector(`[id='${t}']`);if(n&&l.add({current:n}),!l.size)return()=>null;const i=null!==(r=null!=fe?fe:n)&&void 0!==r?r:Ee.current,s=new MutationObserver((e=>{e.forEach((e=>{var t;if(!i||"attributes"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-")))return;const o=we(i);Te(o)}))})),c={attributes:!0,childList:!1,subtree:!1};if(i){const e=we(i);Te(e),s.observe(i,c)}return()=>{s.disconnect()}}),[ve,Ee,fe,t,o]),(0,f.useEffect)((()=>{(null==k?void 0:k.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),P&&!ct("border",`${P}`)&&console.warn(`[react-tooltip] "${P}" is not a valid \`border\`.`),(null==k?void 0:k.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),_&&!ct("opacity",`${_}`)&&console.warn(`[react-tooltip] "${_}" is not a valid \`opacity\`.`)}),[]);let Se=h;const xe=(0,f.useRef)(null);if(a){const e=a({content:(null==fe?void 0:fe.getAttribute("data-tooltip-content"))||H||null,activeAnchor:fe});Se=e?f.createElement("div",{ref:xe,className:"react-tooltip-content-wrapper"},e):null}else H&&(Se=H);Y&&(Se=f.createElement(Tt,{content:Y}));const Ce={forwardRef:B,id:e,anchorId:t,anchorSelect:o,className:at(n,me),classNameArrow:i,content:Se,contentWrapperRef:xe,place:W,variant:Q,offset:J,wrapper:se,events:ue,openOnClick:m,positionStrategy:he,middlewares:b,delayShow:ee,delayHide:oe,float:le,hidden:ne,noArrow:T,clickable:S,closeOnEsc:x,closeOnScroll:C,closeOnResize:N,openEvents:O,closeEvents:R,globalCloseEvents:F,imperativeModeOnly:A,style:k,position:I,isOpen:L,defaultIsOpen:D,border:P,opacity:_,arrowColor:M,setIsOpen:z,afterShow:V,afterHide:j,activeAnchor:fe,setActiveAnchor:e=>be(e),role:U};return f.createElement(wt,{...Ce})}));"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||it({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||it({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));const xt=e=>{const t=new I(255,255,255),o=(e=>{const t=[],o=new I(255,255,255);for(let r=0;r<e.length;r++){const l=new I(0,0,0);let a=e[r].color;a.startsWith("rgba")&&(a=I.RGBAToHex(a)),l.fromHex(a);const n=l.Mul(o,.7);t.push({start:l.asHex(),end:n.asHex()})}return t})(e.data),r=$,l=r.Mul(t,.7),a=_,n=a.Mul(t,.7),i=z,s=i.Mul(t,.7),c=e.gradientId;return b().createElement(b().Fragment,null,b().createElement("defs",null,o.map(((e,t)=>b().createElement("linearGradient",{key:t,id:c+"_linear_gradient_state_data_"+t,x1:"30%",y1:"30%",x2:"70%",y2:"70%"},b().createElement("stop",{offset:"0%",stopColor:e.start}),b().createElement("stop",{offset:"100%",stopColor:e.end})))),b().createElement("linearGradient",{id:c+"_linear_gradient_state_ok",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},b().createElement("stop",{offset:"0%",stopColor:r.asHex()}),b().createElement("stop",{offset:"100%",stopColor:l.asHex()})),b().createElement("linearGradient",{id:c+"_linear_gradient_state_warning",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},b().createElement("stop",{offset:"0%",stopColor:a.asHex()}),b().createElement("stop",{offset:"100%",stopColor:n.asHex()})),b().createElement("linearGradient",{id:c+"_linear_gradient-state_critical",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},b().createElement("stop",{offset:"0%",stopColor:i.asHex()}),b().createElement("stop",{offset:"100%",stopColor:s.asHex()})),b().createElement("linearGradient",{id:c+"_linear_gradient_state_unknown",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},b().createElement("stop",{offset:"0%",stopColor:"#73808A"}),b().createElement("stop",{offset:"100%",stopColor:"#73808A"}))))};function Ct(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class Nt{setRadius(e){this.radius=e}setHeight(e){this.height=e}setWidth(e){this.width=e}generateHexagonPointedTopLayout(){return this.radius=this.getHexFlatTopRadius(),{}}generateUniformLayout(){return this.radius=this.getUniformRadius(),{}}getHexFlatTopRadius(){let e=K.min([this.width/((this.numColumns+.5)*this.SQRT3),this.height/(1.5*(this.numRows+1/3))]);return void 0!==e?(e-=0,this.truncateFloat(e)):40}getHexFlatTopDiameters(){const e=this.getHexFlatTopRadius();return{diameterX:this.truncateFloat(e*this.SQRT3),diameterY:this.truncateFloat(2*e)}}getUniformDiameters(){const e=this.getUniformRadius();return{diameterX:2*e,diameterY:2*e}}getUniformRadius(){const e=this.width/this.maxColumnsUsed*.5,t=this.height/this.maxRowsUsed*.5;let o=e;return o>t&&(o=t),o-=0,this.truncateFloat(o)}generatePossibleColumnAndRowsSizes(e,t,o){if(t&&e){const e=Math.sqrt(o);this.width>this.height?(this.numColumns=Math.ceil(this.width/this.height*e*.75),this.numColumns<1?this.numColumns=1:this.numColumns>o&&(this.numColumns=o),this.numRows=Math.ceil(o/this.numColumns),this.numRows<1&&(this.numRows=1)):(this.numRows=Math.ceil(this.height/this.width*e*.75),this.numRows<1?this.numRows=1:this.numRows>o&&(this.numRows=o),this.numColumns=Math.ceil(o/this.numRows),this.numColumns<1&&(this.numColumns=1))}else t?(this.numRows=Math.ceil(o/this.numColumns),this.numRows<1&&(this.numRows=1)):e&&(this.numColumns=Math.ceil(o/this.numRows),this.numColumns<1&&(this.numColumns=1))}generateActualColumnAndRowUsage(e,t){let o=0,r=0,l=0,a=0;for(let n=0;n<this.numRows;n++)if((!t||o<t)&&o<e.length){r+=1,l=0;for(let r=0;r<this.numColumns;r++)(!t||o<t)&&o<e.length&&(l+=1,l>a&&(a=l),o++)}this.maxRowsUsed=r,this.maxColumnsUsed=a}shapeToCoordinates(t,o,r,l){switch(t){case e.HEXAGON_POINTED_TOP:let t=o*r*this.SQRT3;return l%2==1&&(t+=o*this.SQRT3/2),[t,o*l*1.5];case e.CIRCLE:case e.SQUARE:return[o*r*2,o*l*2];default:return[o*r*1.75,o*l*1.5]}}generatePoints(e,t,o){const r=[];if(void 0===e)return r;let l=0,a=0,n=0;if(this.numRows===1/0)return r;if(isNaN(this.numColumns))return r;for(let i=0;i<this.numRows;i++)if((!t||r.length<t)&&r.length<e.length){l+=1,a=0;for(let l=0;l<this.numColumns;l++)if((!t||r.length<t)&&r.length<e.length){a+=1,a>n&&(n=a);let e=this.shapeToCoordinates(o,this.radius,l,i);const t={x:e[0],y:e[1]};r.push(t)}}return this.maxRowsUsed=l,this.maxColumnsUsed=n,r}generateUniformPoints(e,t){const o=[];if(void 0===e)return o;let r=0,l=0,a=0,n=1,i=1;if(this.numRows===1/0)return o;if(isNaN(this.numColumns))return o;for(let s=0;s<this.numRows;s++)if((!t||o.length<t)&&o.length<e.length){r+=1,l=0;for(let r=0;r<this.numColumns;r++)(!t||o.length<t)&&o.length<e.length&&(l+=1,l>a&&(a=l),o.push({x:n,y:i,width:2*this.radius,height:2*this.radius}),n+=2*this.radius);n=1,i+=2*this.radius}return this.maxRowsUsed=r,this.maxColumnsUsed=a,o}generateRadius(t){if(!this.autoSize)return this.radius;let o=0;switch(t){case e.HEXAGON_POINTED_TOP:o=this.getHexFlatTopRadius();break;case e.CIRCLE:case e.SQUARE:o=this.getUniformRadius();break;default:o=this.getHexFlatTopRadius()}return this.radius=o,o}truncateFloat(e){if(e===1/0||isNaN(e))return 0;const t=e.toString().match(/^-?\d+(?:\.\d{0,2})?/);return null!==t&&t.length>0?Number(t[0]):0}getOffsets(t,o){switch(t){case e.HEXAGON_POINTED_TOP:return this.getOffsetsHexagonPointedTop(o);case e.SQUARE:return this.getOffsetsSquare(o);case e.CIRCLE:default:return this.getOffsetsUniform(o)}}getOffsetsHexagonPointedTop(e){let t=K.min([this.width/((this.numColumns+.5)*this.SQRT3),this.height/(1.5*(this.numRows+1/3))]);t=this.truncateFloat(t);const o=this.truncateFloat(t*this.SQRT3),r=this.truncateFloat(2*t),l=.5*r,{oddCount:a,evenCount:n}=this.getOddEvenCountForRange(1,this.maxRowsUsed),i=a*r+n*r*.5;let s=(this.height-i)/2;s=-(s+l);const c=.5*o;let u=0;this.numRows>1&&e>=2*this.maxColumnsUsed&&(u=.5);const d=(this.numColumns+u)*o;let h=(this.width-d)/2;return h=-(h+c),{xoffset:h,yoffset:s}}getOffsetsUniform(e){const{diameterX:t,diameterY:o}=this.getDiameters(),r=this.truncateFloat(t),l=this.truncateFloat(o),a=.5*l,n=this.maxRowsUsed*l;let i=(this.height-n)/2;i=-(i+a);const s=.5*r,c=this.numColumns*r;let u=(this.width-c)/2;return u=-(u+s),{xoffset:u,yoffset:i}}getOffsetsSquare(e){const{diameterX:t,diameterY:o}=this.getDiameters(),r=this.truncateFloat(t),l=this.truncateFloat(o),a=this.maxRowsUsed*l;let n=(this.height-a)/2;n=-(n+0);const i=this.numColumns*r;let s=(this.width-i)/2;return s=-(s+0),{xoffset:s,yoffset:n}}getOddEvenCountForRange(e,t){let o=(t-e)/2;return t%2==0&&e%2==0||o++,{oddCount:o,evenCount:t-e+1-o}}getDiameters(){switch(this.shape){case e.HEXAGON_POINTED_TOP:return this.getHexFlatTopDiameters();case e.SQUARE:case e.CIRCLE:default:return this.getUniformDiameters()}}constructor(e,t,o,r,l,a,n){Ct(this,"width",void 0),Ct(this,"height",void 0),Ct(this,"numColumns",void 0),Ct(this,"numRows",void 0),Ct(this,"radius",void 0),Ct(this,"autoSize",void 0),Ct(this,"maxRowsUsed",void 0),Ct(this,"maxColumnsUsed",void 0),Ct(this,"displayLimit",void 0),Ct(this,"shape",void 0),Ct(this,"SQRT3",1.7320508075688772),this.width=e,this.height=t,o<1||isNaN(o)?this.numColumns=8:this.numColumns=o,r<1||isNaN(r)?this.numRows=8:this.numRows=r,this.maxColumnsUsed=0,this.maxRowsUsed=0,l<0||isNaN(l)?this.displayLimit=100:this.displayLimit=l,this.shape=n,this.radius=0,this.autoSize=a}}const Ot=e=>O.css`
  font-size: ${e.typography.h1.fontSize};
  text-align: center;
  justify-content: center;
  color: ${e.colors.error.shade};
`,Rt=e=>O.css`
  font-size: ${e.typography.h1.fontSize};
  text-align: center;
  justify-content: center;
  color: ${e.colors.success.shade};
`,Ft=e=>O.css`
  fill: transparent;
  display: flex;
  align-items: center;
  text-align: center;
  justify-content: center;
`,At=e=>O.css`
  text-align: center;
  align-items: center;
  justify-content: center;
  fill: transparent;
`,kt=e=>O.css`
  outline: none !important;
`,It=({data:e,renderTime:o,showTime:r,valueEnabled:a,tooltipColumnHeadersEnabled:n,primarySortByField:i,primarySortDirection:s,secondarySortByField:c,secondarySortDirection:u,displayMode:d,tooltipDisplayTextTriggeredEmpty:h,tooltipFontFamily:p})=>{const m=(0,y.useStyles2)(Lt);(null==e?void 0:e.timestamp)&&(o=new Date(null==e?void 0:e.timestamp));return b().createElement("table",{style:{fontFamily:p},className:m.tooltipTable},b().createElement("thead",null,e&&e.isComposite&&(e=>e&&e.members&&0===e.members.length?"":b().createElement("tr",null,b().createElement("th",{className:m.tooltipCompositeHeading,colSpan:2},null==e?void 0:e.displayName)))(e),b().createElement("tr",null,n&&b().createElement("th",{className:m.tooltipNameHeading},"Name"),n&&a&&b().createElement("th",{className:m.tooltipValueHeading},"Value"))),b().createElement("tfoot",null,r&&b().createElement("tr",null,b().createElement("td",{className:m.tooltipTime,colSpan:2},(0,t.dateTimeFormatWithAbbrevation)(o)))),b().createElement("tbody",null,e&&e.isComposite?(e=>{let t=e;if(t&&e&&"triggered"===d&&(t=(e=>{const t=(e=>{let t=0;0!==e.thresholdLevel&&t++;for(let o=0;o<e.members.length;o++)0!==e.members[o].thresholdLevel&&t++;return t})(e);if(t>0){for(let t=0;t<e.members.length;t++)0===e.members[t].thresholdLevel&&e.members.splice(t,1);return e}return null})(e)),null===t)return b().createElement(b().Fragment,null,h);const o=((e,t,o,r,a)=>{let n=Dt(l[t].value);const i=n.lowerCase,s=n.direction;n=Dt(l[r].value);const c=n.direction,u=n.lowerCase;let d=o;i&&(d=e=>{let t=e[o];return"number"!=typeof t&&(t=t.toLowerCase()),t});let h=a;return u&&(h=e=>{let t=e[a];return"number"!=typeof t&&(t=t.toLowerCase()),t}),(0,v.orderBy)(e.members,[d,h],[s,c])})(t,s,i,u,c);return o.map(((e,t)=>b().createElement("tr",{key:t,style:{color:e.color}},b().createElement("td",{className:m.tooltipName},e.displayName),a&&b().createElement("td",{className:m.tooltipValue},e.valueFormatted))))})(e):b().createElement("tr",{style:{color:null==e?void 0:e.color}},b().createElement("td",{className:m.tooltipName},null==e?void 0:e.displayName),a&&b().createElement("td",{className:m.tooltipValue},null==e?void 0:e.valueFormatted))))},Lt=e=>({root:O.css`
      border-radius: ${e.shape.borderRadius(1)};
      background-color: ${e.colors.background.primary};
      box-shadow: ${e.shadows.z2};
      padding: ${e.spacing(1)};
    `,tooltipTable:O.css`
      width: 100%;
      color: ${e.colors.text.primary};
      height: auto;
      padding: 10px;
    `,tooltipTime:O.css`
      text-align: center;
      color: ${e.colors.text.primary};
    `,tooltipNameHeading:O.css`
      text-align: left;
      color: ${e.colors.text.primary};
    `,tooltipValueHeading:O.css`
      text-align: right;
      color: ${e.colors.text.primary};
    `,tooltipCompositeHeading:O.css`
      text-align: center;
      color: ${e.colors.text.primary};
    `,tooltipName:O.css`
      text-align: left;
    `,tooltipValue:O.css`
      text-align: right;
      padding-left: 15px;
    `}),Dt=e=>{switch(e){case 0:return{direction:null,lowerCase:!1};case 1:case 3:default:return{direction:"asc",lowerCase:!1};case 2:case 4:return{direction:"desc",lowerCase:!1};case 5:return{direction:"asc",lowerCase:!0};case 6:return{direction:"desc",lowerCase:!0}}};function $t(e,t){if((0,v.isNumber)(t))return{decimals:t,scaledDecimals:null};const o=e/2;let r=-Math.floor(Math.log(o)/Math.LN10);const l=Math.pow(10,-r),a=o/l;let n;a<1.5?n=1:a<3?(n=2,a>2.25&&(n=2.5,++r)):n=a<7.5?5:10,n*=l,Math.floor(e)===e&&(r=0);const i={decimals:0,scaledDecimals:0};return i.decimals=Math.max(0,r),i.scaledDecimals=i.decimals-Math.floor(Math.log(n)/Math.LN10)+2,i}function Pt(e,t){const o=document.createElement("canvas").getContext("2d");return o?(o.font=t,o.measureText(e).width):40}const _t=(e,t)=>{if(null===e)return null;const o=Math.pow(10,t),r=(o*e).toFixed(t);return Math.round(parseFloat(r))/o},Mt=(e,t,o,r,l,a,n)=>function(e,t,o,r,l,a){let n=t.replace("?",a),i=Pt(e,n);if(i<=(o*=.95)&&a<=r)return a;for(let s=a;s>=l;s--)if(n=t.replace("?",s),i=Pt(e,n),i<o&&s<=r)return Math.ceil(s);return 0}(e,`?px ${t}`,a,n/l,o,r),zt=t=>{const o=(0,y.useStyles2)(Ft),r=(0,y.useStyles2)(At),l=(0,y.useStyles2)(kt),a=(0,y.useStyles2)(Rt),n=(0,y.useStyles2)(Ot),i=(0,y.useTheme2)().isDark?"dark":"light",[s,c]=b().useState([]),[u,d]=b().useState([]),[h,m]=b().useState([]),[g,v]=b().useState([]),E=(0,f.useCallback)((()=>{for(let e=0;e<g.length;e++){let o=g[e],r=h[o];if(t.globalShowValueEnabled&&s.length>0&&s[o].current&&t.processedData){const e=t.processedData[o],l=jt(r,e,t.globalDisplayTextTriggeredEmpty)[0];null!==s[o].current.innerHTML&&(s[o].current.innerHTML=l)}if(t.globalShowTimestampEnabled&&u.length>0&&u[o].current&&t.processedData){const e=t.processedData[o],l=jt(r,e,t.globalDisplayTextTriggeredEmpty)[1];null!==u[o].current.innerHTML&&(u[o].current.innerHTML=l)}r++,t.processedData&&t.processedData[o]&&t.processedData[o].members.length&&(r%=t.processedData[o].members.length),h[o]=r,m(h)}}),[h,s,u,g,t.processedData,t.globalDisplayTextTriggeredEmpty,t.globalShowTimestampEnabled,t.globalShowValueEnabled]);if((0,f.useEffect)((()=>{let e=!1;const o=[];let r;if(t.processedData.map(((t,r)=>{t.isComposite&&t.showValue&&(e=!0,o.push(r))})),JSON.stringify(g)!==JSON.stringify(o)&&t.processedData&&((e=>{if(e.length>0){const t=[],o=[],r=[];for(let l=0;l<e.length;l++)t.push((0,f.createRef)()),o.push((0,f.createRef)()),r.push(0);t.length>0&&s.length!==t.length&&(c(t),d(o),m(r))}})(t.processedData),v(o)),e){let e=parseInt(t.compositeConfig.animationSpeed,10);(e<200||isNaN(e))&&(console.log("WARNING: speed in configuration is too fast, setting to 200ms"),e=200),r=setInterval(E,e)}return()=>{clearInterval(r)}}),[t.compositeConfig.animationSpeed,t.processedData,s]),t.processedData&&0===t.processedData.length)return b().createElement("div",{className:a},t.globalDisplayTextTriggeredEmpty);if(!t.autoSizeColumns&&!t.autoSizeRows){const e=t.layoutNumColumns*t.layoutNumRows;if(e<t.processedData.length)return b().createElement("div",{className:n},"Not enough rows and columns for data. There are ",t.processedData.length," items to display, and only"," ",e," places allocated."," "," See the Display Limit setting in category Layout"," ")}const w=new Nt(t.panelWidth,t.panelHeight,t.layoutNumColumns,t.layoutNumRows,t.layoutDisplayLimit,t.autoSizePolygons,t.globalShape);w.generatePossibleColumnAndRowsSizes(t.autoSizeColumns,t.autoSizeRows,t.processedData.length),w.generateActualColumnAndRowUsage(t.processedData,t.layoutDisplayLimit);let T=0;!t.autoSizePolygons&&t.globalPolygonSize?(t.globalPolygonSize<0||isNaN(t.globalPolygonSize)?(t.globalPolygonSize=50,console.log("WARNING: polygon size is manually set to an invalid value, forcing to 50px")):w.setRadius(t.globalPolygonSize),T=t.globalPolygonSize):T=w.generateRadius(t.globalShape);const S=w.generatePoints(t.processedData,t.layoutDisplayLimit,t.globalShape),x=function(){var e,t,o,r=0,l=0,a=1,n=1,i=ee,s=te;function c(e){var r,l={},a=[],n=e.length;for(r=0;r<n;++r)if(!isNaN(u=+i.call(null,c=e[r],r,e))&&!isNaN(d=+s.call(null,c,r,e))){var c,u,d,h=Math.round(d/=o),p=Math.round(u=u/t-(1&h)/2),m=d-h;if(3*Math.abs(m)>1){var g=u-p,f=p+(u<p?-1:1)/2,b=h+(d<h?-1:1),y=u-f,v=d-b;g*g+m*m>y*y+v*v&&(p=f+(1&h?1:-1)/2,h=b)}var E=p+"-"+h,w=l[E];w?w.push(c):(a.push(w=l[E]=[c]),w.x=(p+(1&h)/2)*t,w.y=h*o)}return a}function u(e){var t=0,o=0;return Z.map((function(r){var l=Math.sin(r)*e,a=-Math.cos(r)*e,n=l-t,i=a-o;return t=l,o=a,[n,i]}))}return c.hexagon=function(t){return"m"+u(null==t?e:+t).join("l")+"z"},c.centers=function(){for(var i=[],s=Math.round(l/o),c=Math.round(r/t),u=s*o;u<n+e;u+=o,++s)for(var d=c*t+(1&s)*t/2;d<a+t/2;d+=t)i.push([d,u]);return i},c.mesh=function(){var t=u(e).slice(0,4).join("l");return c.centers().map((function(e){return"M"+e+"m"+t})).join("")},c.x=function(e){return arguments.length?(i=e,c):i},c.y=function(e){return arguments.length?(s=e,c):s},c.radius=function(r){return arguments.length?(t=2*(e=+r)*Math.sin(J),o=1.5*e,c):e},c.size=function(e){return arguments.length?(r=l=0,a=+e[0],n=+e[1],c):[a-r,n-l]},c.extent=function(e){return arguments.length?(r=+e[0][0],l=+e[0][1],a=+e[1][0],n=+e[1][1],c):[[r,l],[a,n]]},c.radius(1)}().radius(T).extent([[0,0],[t.panelWidth,t.panelHeight]]),{diameterX:C,diameterY:N}=w.getDiameters(),{xoffset:O,yoffset:R}=w.getOffsets(t.globalShape,t.processedData.length),F=C,A=N/2;let k=C*N;C<N&&(k=C*C),N<C&&(k=N*N);const I=(0,K.symbol)().size(k);let L;switch(t.globalShape){case e.HEXAGON_POINTED_TOP:L=x.hexagon(T);break;case e.CIRCLE:L=I.type(K.symbolCircle);break;case e.SQUARE:L=I.type(K.symbolSquare);break;default:L=x.hexagon(T)}const D=e=>({x:S[e].x,y:S[e].y});let $=t.globalFontSize,P=t.globalFontSize,_=t.globalShowTimestampFontSize,M=!1,z=t.ellipseCharacters,V=t.globalShowTimestampEnabled,j=t.globalShowValueEnabled;if(t.globalAutoScaleFonts){const e=((e,t,o,r,l,a)=>{const n=240;let i=!1,s=0,c=(e=>{let t="";for(let o=0;o<e.length;o++){let r=e[o].name;""!==e[o].displayName&&(r=e[o].displayName),r.length>t.length&&(t=r)}return t})(a),u=Mt(c,e,6,n,2,t,o);u<6&&(i=!0,s=18,c=c.substring(0,s+2),u=Mt(c,e,6,n,2,t,o),u<6&&(s=10,c=c.substring(0,s+2),u=Mt(c,e,6,n,2,t,o),u<6&&(s=6,c=c.substring(0,s+2),u=Mt(c,e,6,n,2,t,o))));let{maxValue:d,maxTimestamp:h}=(e=>{let t="",o="";for(let r=0;r<e.length;r++){e[r].valueFormatted.length>t.length&&(t=e[r].valueFormatted),e[r].timestampFormatted.length>o.length&&(o=e[r].timestampFormatted);const l=e[r].members.length;if(l>0){let a=0;for(;a<l;){const l=e[r].members[a].displayName+": "+e[r].members[a].valueFormatted;l&&l.length>t.length&&(t=l);const n=e[r].members[a].timestampFormatted;n&&n.length>o.length&&(o=n),a++}}}return{maxValue:t,maxTimestamp:o}})(a),p=Mt(d,e,6,n,2,t,o);l&&(p=Mt(d,e,6,n,2,t,.67*o));let m=Mt(h,e,6,n,2,t,.33*o);return m<6&&(m=0),r||(p=0),{activeLabelFontSize:u,activeValueFontSize:p,activeTimestampFontSize:m,showEllipses:i,numOfChars:s}})(t.globalTextFontFamily,F,A,j,V,t.processedData);$=e.activeLabelFontSize,P=e.activeValueFontSize,_=e.activeTimestampFontSize,M=e.showEllipses,z=e.numOfChars}const U=((t,o,r,l,a,n,i,s)=>{let c=l/2/2+a/2,u=a/2,d=-l/2/2+n/2,h=n/2,p=0,m=0,g=c/2,f=.33*l/2+i/2;switch(t){case e.HEXAGON_POINTED_TOP:case e.CIRCLE:h=.37*n,s&&i>0&&(c=.67*l/2+a/2);break;case e.SQUARE:c=r/1.5+a/2,u=r/2+.37*n,d=r/4+n/2,h=r/2+.37*n,p=o/2,m=o/2,s&&i>0&&(f=r/1.5-.67*i)}return{valueWithLabelTextAlignment:c,valueOnlyTextAlignment:u,valueWithTimestampAlignment:g,labelWithValueTextAlignment:d,labelOnlyTextAlignment:h,labelTextAlignmentX:p,labelValueAlignmentX:m,timestampAlignment:f}})(t.globalShape,C,N,A,P,$,_,V);let B=Math.ceil(.35*P);P>_&&(B=Math.ceil(.35*_));const H=`polystat_${t.panelId}_`+Math.floor(1e4*Math.random()).toString(),G=(o,r)=>{let a=t.processedData[o].color;t.globalGradientsEnabled&&(a=`url(#${H}_linear_gradient_state_data_${o})`);const n=w.generateRadius(t.globalShape),i=D(o);switch(r){case e.HEXAGON_POINTED_TOP:return b().createElement("path",{"data-tooltip-id":`polystat-tooltip-${t.panelId}`,"data-tooltip-content":o,"data-tooltip-position-strategy":"fixed",className:l,key:`polystat-tooltip-${t.panelId}`,transform:`translate(${i.x}, ${i.y})`,d:L,fill:a,stroke:t.globalPolygonBorderColor,strokeWidth:t.globalPolygonBorderSize+"px"});case e.CIRCLE:return b().createElement("circle",{"data-tooltip-id":`polystat-tooltip-${t.panelId}`,"data-tooltip-content":o,"data-tooltip-position-strategy":"fixed",key:`polystat-tooltip-${t.panelId}`,className:l,cx:i.x,cy:i.y,r:n,fill:a});case e.SQUARE:return b().createElement("rect",{"data-tooltip-id":`polystat-tooltip-${t.panelId}`,"data-tooltip-content":o,"data-tooltip-position-strategy":"fixed",key:`polystat-tooltip-${t.panelId}`,className:l,x:i.x,y:i.y,height:2*n,width:2*n,fill:a});default:return b().createElement("path",{"data-tooltip-id":`polystat-tooltip-${t.panelId}`,"data-tooltip-content":o,"data-tooltip-position-strategy":"fixed",className:l,key:`polystat-tooltip-${t.panelId}`,transform:`translate(${i.x}, ${i.y})`,d:L,fill:a,stroke:t.globalPolygonBorderColor,strokeWidth:t.globalPolygonBorderSize+"px"})}};let Y=0;!t.autoSizeColumns&&T&&w.maxColumnsUsed<t.layoutNumColumns&&(Y+=T*(t.layoutNumColumns-w.maxColumnsUsed));let X=0;return!t.autoSizeRows&&T&&w.maxRowsUsed<t.layoutNumRows&&(X+=T*(t.layoutNumRows-w.maxRowsUsed-1)),b().createElement("div",{className:o},b().createElement("svg",{className:r,width:t.panelWidth,height:t.panelHeight,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:`${O},${R},${t.panelWidth},${t.panelHeight}`},b().createElement("g",{transform:`translate(${Y},${X})`},b().createElement(xt,{gradientId:H,data:t.processedData}),t.processedData.map(((e,o)=>{const r=D(o),l=e.sanitizeURLEnabled?e.sanitizedURL:e.clickThrough,a=(e=>{let t="_self";return e.newTabEnabled&&(t="_blank"),e.customClickthroughTargetEnabled&&(t=e.customClickthroughTarget),t})(e);let n;return n=a.length>0&&l.length>0?b().createElement("a",{target:a,href:l},G(o,t.globalShape)):b().createElement("a",{href:l},G(o,t.globalShape)),b().createElement(b().Fragment,null,l.length>0&&n?n:G(o,t.globalShape),((e,o,r)=>{let l=U.labelWithValueTextAlignment;return e.showValue||(l=U.labelOnlyTextAlignment),b().createElement("text",{className:"toplabel",x:r.x+U.labelTextAlignmentX,y:r.y+l,textAnchor:"middle",fontFamily:t.globalTextFontFamily,fontSize:$+"px",style:{fill:t.globalTextFontAutoColorEnabled?t.globalTextFontAutoColor:t.globalTextFontColor,pointerEvents:"none"}},e.showName&&Vt(t.globalAutoScaleFonts,t.ellipseEnabled,t.ellipseCharacters,M,z,e.name,e.displayName))})(e,0,r),((e,o,r)=>{let l=U.valueWithLabelTextAlignment;if(t.globalShowTimestampEnabled)switch(isNaN(t.globalShowTimestampYOffset)&&(t.globalShowTimestampYOffset=0),t.globalShowTimestampPosition){case p.ABOVE_VALUE:l=U.valueWithLabelTextAlignment;break;case p.BELOW_VALUE:l=U.timestampAlignment+B}return b().createElement("text",{ref:s[o],className:`valueLabel${o}`,x:r.x+U.labelValueAlignmentX,y:r.y+l,textAnchor:"middle",fontFamily:t.globalTextFontFamily,fontSize:P+"px",style:{fill:t.globalTextFontAutoColorEnabled?t.globalTextFontAutoColor:t.globalTextFontColor,pointerEvents:"none"}},t.globalShowValueEnabled&&(e.isComposite?jt(0,e,t.globalDisplayTextTriggeredEmpty)[0]:e.valueFormatted))})(e,o,r),((e,o,r)=>{isNaN(t.globalShowTimestampYOffset)&&(t.globalShowTimestampYOffset=0);let l=U.timestampAlignment-B+t.globalShowTimestampYOffset;switch(t.globalShowTimestampPosition){case p.ABOVE_VALUE:l=e.showValue?U.timestampAlignment-B+t.globalShowTimestampYOffset:U.valueWithLabelTextAlignment+t.globalShowTimestampYOffset;break;case p.BELOW_VALUE:l=U.valueWithLabelTextAlignment+t.globalShowTimestampYOffset}return b().createElement("text",{ref:u[o],className:`timestampLabel${o}`,x:r.x+U.labelValueAlignmentX,y:r.y+l,textAnchor:"middle",fontFamily:t.globalTextFontFamily,fontSize:_+"px",style:{fill:t.globalTextFontAutoColorEnabled?t.globalTextFontAutoColor:t.globalTextFontColor,pointerEvents:"none"}},t.globalShowTimestampEnabled&&(e.isComposite?jt(0,e,t.globalDisplayTextTriggeredEmpty)[1]:e.timestampFormatted))})(e,o,r))})))),t.globalTooltipsEnabled&&b().createElement(y.Portal,null,b().createElement(St,{style:{boxShadow:"rgba(1, 4, 9, 0.75) 0px 4px 8px 0px"},id:`polystat-tooltip-${t.panelId}`,place:"bottom",float:!0,variant:i,opacity:1,clickable:!1,render:({content:e})=>{if(e){const o=parseInt(e,10);return b().createElement(It,{data:t.processedData[o],renderTime:t.renderTime,showTime:t.globalTooltipsShowTimestampEnabled,valueEnabled:t.globalShowValueEnabled,tooltipColumnHeadersEnabled:t.globalShowTooltipColumnHeadersEnabled,primarySortByField:t.tooltipPrimarySortByField,primarySortDirection:t.tooltipPrimarySortDirection,secondarySortByField:t.tooltipSecondarySortByField,secondarySortDirection:t.tooltipSecondarySortDirection,displayMode:t.tooltipDisplayMode,tooltipDisplayTextTriggeredEmpty:t.tooltipDisplayTextTriggeredEmpty,tooltipFontFamily:t.globalTooltipsFontFamily})}return b().createElement(b().Fragment,null)}})))},Vt=(e,t,o,r,l,a,n)=>(""!==n&&(a=n),r&&a.length>l?a.substring(0,l)+"...":!e&&t&&a.length>o?a.substring(0,o)+"...":a),jt=(e,o,r)=>{let l=o.valueFormatted,a=o.timestampFormatted;const i=o.members.length;if(i>0){let t=-1;if(o.displayMode===n[0].value)t=e%i;else{if(void 0===o.triggerCache&&(o.triggerCache=(e=>{let t=[];for(let o=0;o<e.members.length;o++){const r=e.members[o];if(r.thresholdLevel>0){const e={index:o,name:r.name,value:r.value,thresholdLevel:r.thresholdLevel};t.push(e)}}return t=(0,v.orderBy)(t,["thresholdLevel","value","name"],["desc","desc","asc"]),t})(o)),!(o.triggerCache.length>0))return[r,""];{const r=e%o.triggerCache.length;t=o.triggerCache[r].index}}const s=Object.assign({},o.members[t]);l=s.name+": "+s.valueFormatted,a=s.timestampFormatted}return[t.textUtil.sanitize(l),a]};function Ut(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Bt(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){Ut(e,t,o[t])}))}return e}function Ht(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o.push.apply(o,r)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}function Gt(e){for(let o=0;o<e.fields.length;o++)if(e.fields[o].type===t.FieldType.time)return!0;return!1}function Yt(e,o){let r=[];const l=e.fields.length;for(let o=0;o<l;o++)e.fields[o].type===t.FieldType.string&&r.push(o);let a=function(e,o,r){let l={};for(let a=0;a<o.length;a++){let n=o[a],i=e.fields[n];if(i.type!==t.FieldType.number){let e=Xt(i,r);l[i.name]=e}}return l}(e,r,o);return a}function Xt(e,t){return e.values.toArray()[t]}function Wt(e,t){let o=e;const r=e.thresholdLevel,l=t.thresholdLevel;if(void 0===r||void 0===l)return o;if(l>r&&(o=t),3===r)switch(l){case 1:case 2:o=t}return o}function qt(e,t,o){let r=o;if(null===t)return{thresholdLevel:3,color:"#808080"};let l=-1;if(void 0===e)return{thresholdLevel:l,color:o};const a=e.length;if(0===a)return{thresholdLevel:l,color:o};const n=e[a-1];if(t>=n.value&&(l=n.state,r=n.color),1===e.length)return{thresholdLevel:l,color:r};for(let o=a-1;o>0;o--){const a=e[o],n=e[o-1];n.value<=t&&t<a.value&&l<n.state&&(l=n.state,r=n.color)}return-1===l&&(l=e[0].state,r=e[0].color),{thresholdLevel:l,color:r}}function Qt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class Kt{static transformSingleMetric(e,t,o){if(isNaN(e))return t;const r=o[e];for(;t.match(this.cellName);)t=t.replace(this.cellName,r.name);for(;t.match(this.cellValue);)t=t.replace(this.cellValue,encodeURIComponent(r.valueFormatted));for(;t.match(this.cellRawValue);)t=t.replace(this.cellRawValue,r.value.toString());return t}static transformNthMetric(e,t){for(;e.match(this.nthCellName);){const o=e.match(this.nthCellName);if(o&&o.length>=2){const r=t[o[1]].name;e=e.replace(this.nthCellName,r)}}for(;e.match(this.nthCellValue);){const o=e.match(this.nthCellValue);if(o&&o.length>=2){const r=t[o[1]].valueFormatted;e=e.replace(this.nthCellValue,encodeURIComponent(r))}}for(;e.match(this.nthCellRawValue);){const o=e.match(this.nthCellRawValue);if(o&&o.length>=2){const r=t[o[1]].value;e=e.replace(this.nthCellRawValue,r.toString())}}return e}static transformComposite(e,t){for(;t.match(this.compositeNameRegex);)t=t.replace(this.compositeNameRegex,e);return t}static transformByRegex(e,o,r){const l=(0,t.stringToJsRegex)(e),a=o.name.match(l);if(a&&a.length>0&&a.forEach(((e,t)=>{const o=a[t],l=`\${${t}}`,n=`$${t}`;r=(r=r.replace(l,o)).replace(n,o)})),a&&a.groups)for(const e in a.groups){const t=a.groups[e],o=`\${${e}}`,l=`$${e}`;r=(r=r.replace(o,t)).replace(l,t)}return r}}Qt(Kt,"cellName",/\${__cell_name}/),Qt(Kt,"cellValue",/\${__cell}/),Qt(Kt,"cellRawValue",/\${__cell:raw}/),Qt(Kt,"nthCellName",/\${__cell_name_(\d+)}/),Qt(Kt,"nthCellValue",/\${__cell_(\d+)}/),Qt(Kt,"nthCellRawValue",/\${__cell_(\d+):raw}/),Qt(Kt,"compositeNameRegex",/\${__composite_name}/);var Jt=c(8531);const Zt="##",eo=(e,o,r)=>"utc"===e?(0,t.dateTime)(o).utc().format(r):(0,t.dateTime)(o).format(r);function to(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function oo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){to(e,t,o[t])}))}return e}function ro(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o.push.apply(o,r)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}const lo=e=>"[object Array]"===Object.prototype.toString.call(e)?e.join(Zt):e,ao=(e,o,r)=>{const l=[],a=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g;return o.forEach((o=>{if(o.seriesMatch){const n=o.seriesMatch.match(a);n&&n.length>0?n.forEach((a=>{const n=r(a,{compositeName:{text:"compositeName",value:e}},lo).split(Zt);n&&n.length&&n.forEach((r=>{if(r.includes(e)){const e=o.seriesMatch.replace(a,r),n=(0,t.escapeStringForRegex)(r),i=o.seriesMatch.replace(a,n);l.push(ro(oo({},o),{seriesName:e,seriesNameEscaped:i}))}}))})):l.push(o)}})),l},no=(e,t)=>{const o={};return t.forEach(((e,t)=>{o[t]={text:t,value:e}})),t.groups&&Object.keys(t.groups).forEach((e=>{o[e.replace(/\s+/g,"_")]={text:e,value:t.groups[e]}})),(0,Jt.getTemplateSrv)().replace(e,o)};function io(e,t,o,r){switch(o){case"name":return e;case"last_time":return t?t.timestamp:Date.now();default:return r[o]}}var so,co;(co=so||(so={}))[co.ValueToText=1]="ValueToText",co[co.RangeToText=2]="RangeToText";const uo=e=>!(!e||!e.value)&&"null"===e.value.toLowerCase();var ho,po,mo,go,fo,bo,yo;function vo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Eo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){vo(e,t,o[t])}))}return e}(mo=ho||(ho={})).Absolute="absolute",mo.Percentage="percentage",function(e){e.Thresholds="thresholds",e.PaletteClassic="palette-classic",e.PaletteSaturated="palette-saturated",e.ContinuousGrYlRd="continuous-GrYlRd",e.Fixed="fixed"}(po||(po={})),function(e){e.ValueToText="value",e.RangeToText="range",e.RegexToText="regex",e.SpecialValue="special"}(go||(go={})),(yo=fo||(fo={})).True="true",yo.False="false",yo.Null="null",yo.NaN="nan",yo.NullAndNaN="null+nan",yo.Empty="empty",function(e){e[e.ValueToText=1]="ValueToText",e[e.RangeToText=2]="RangeToText"}(bo||(bo={}));const wo=(e,o)=>{let r=((e,t)=>((e,t)=>{const o=e.reduce(((e,o)=>(1===o.type?e=((e,t,o)=>{if(void 0===t.value)return e;if(null===o&&uo(t))return e.concat(t);const r=parseFloat(o),l=parseFloat(t.value);return(isNaN(r)||isNaN(l))&&o===t.value?e.concat(t):r!==l?e:e.concat(t)})(e,o,t):2===o.type&&(e=((e,t,o)=>{if(void 0===t.from||void 0===t.to||void 0===o)return e;if(null===o&&t.from&&t.to&&"null"===t.from.toLowerCase()&&"null"===t.to.toLowerCase())return e.concat(t);const r=parseFloat(o),l=parseFloat(t.from),a=parseFloat(t.to);return isNaN(r)||isNaN(l)||isNaN(a)?e:r>=l&&r<=a?e.concat(t):e})(e,o,t)),e)),[]);return o.sort(((e,t)=>e.id-t.id)),o})(e,t)[0])(e,o);return void 0===r?function(e,o){for(const r of e)switch(r.type){case go.ValueToText:if(null==o)continue;const e=r.options[o];if(e)return e;break;case go.RangeToText:if(null==o)continue;const l=parseFloat(o);if(isNaN(l))continue;if(!isNaN(r.options.from)&&l<r.options.from)continue;if(!isNaN(r.options.to)&&l>r.options.to)continue;return r.options.result;case go.RegexToText:if(null==o)continue;if("string"!=typeof o)continue;const a=(0,t.stringToJsRegex)(r.options.pattern);if(o.match(a)){const e=Eo({},r.options.result);return null!=e.text&&(e.text=o.replace(a,r.options.result.text||"")),e}case go.SpecialValue:switch(r.options.match){case fo.Null:if(null==o)return r.options.result;break;case fo.NaN:if(isNaN(o))return r.options.result;break;case fo.NullAndNaN:if(isNaN(o)||null==o)return r.options.result;break;case fo.True:if(!0===o||"true"===o)return r.options.result;break;case fo.False:if(!1===o||"false"===o)return r.options.result;break;case fo.Empty:if(""===o)return r.options.result}}return null}(e,o):r};function To(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const So=e=>"[object Array]"===Object.prototype.toString.call(e)?e.join(Zt):e,xo=(e,t)=>{const o=[],r=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g;return e.forEach((e=>{if(e.metricName){const l=e.metricName.match(r);l&&l.length>0?l.forEach((r=>{t(r,{},So).split(Zt).forEach((t=>{const l=e.metricName.replace(r,t);var a,n;o.push((a=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){To(e,t,o[t])}))}return e}({},e),n=null!=(n={metricName:l})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o.push.apply(o,r)}return o}(Object(n)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(n,e))})),a))}))})):o.push(e)}})),o},Co=(e,o,r)=>{const l=xo(o,r);for(let o=0;o<l.length;o++){const r=l[o],a=(0,t.stringToJsRegex)(r.metricName),n=e.match(a);if(n&&n.length>0&&r.enabled)return l[o]}return null};function No(e,o,r,l,a,n,i,s,c,u,d,h,p,m,g,f,b,y,E,w,T,S,x,C,N,O,R,F){let A=function(e){const o=Date.now(),r=[];for(const l of e){const e=Ht(Bt({},l),{meta:Bt({},l.meta),fields:[]}),a=Gt(l);for(const o of l.fields)if(o.type===t.FieldType.number)if(a){const t=Object.assign({},o);o.state&&(t.state=Object.assign({},o.state)),e.fields.push(t)}else{const r=Object.assign({},o),a=r.values.toArray(),n=a.length;for(let i=0;i<n;i++)null!==a[i]&&(o.state&&(r.state=Object.assign({},o.state)),e.fields.push(Ht(Bt({},r),{labels:Yt(l,i),values:new t.ArrayVector([Xt(r,i)])})))}if(a){for(const o of l.fields)if(o.type!==t.FieldType.number){const t=Object.assign({},o);o.state&&(t.state=Object.assign({},o.state)),e.fields.push(t)}}else{const r=new t.ArrayVector;r.add(o);const l={},a={name:"Time",type:t.FieldType.time,values:r,config:l};e.fields.push(a)}r.push(e)}return r}(l.series),k=[];return A.map((e=>{const t=Io(e,h);for(const e of t)k.push(e)})),k=Oo(k,g),k=Ao(k,n,y,p,f,E,w,T,S,O,F),k=((e,o,r,l,a,n,i,s,c)=>{let u="";if(u=void 0!==c.visualization?c.visualization.getColorByName(l):(0,t.getColorForTheme)(l,s),!e)return o;for(let d=0;d<o.length;d++){const h=Co(o[d].name,e,n);if(h){const e=o[d];e.operatorName=h.operatorName;const p=io(e.name,e,e.operatorName,e.stats),m=qt(h.thresholds&&h.thresholds.length?h.thresholds:a,p,l);let g=m.color;g=void 0!==c.visualization?c.visualization.getColorByName(m.color):(0,t.getColorForTheme)(m.color,s),o[d].value=p,o[d].color=g,o[d].thresholdLevel=m.thresholdLevel;const f=wo(r.defaults.mappings,o[d].value);if(f&&""!==f.text){if(o[d].valueFormatted=f.text,f.color){let e=c.visualization.getColorByName(f.color);o[d].color=e}else o[d].color=u;h.showTimestampEnabled&&(o[d].timestampFormatted=eo(i,o[d].timestamp,h.showTimestampFormat),o[d].showTimestamp=!0)}else{const e=(0,t.getValueFormat)(h.unitFormat);if(e){const t=+h.decimals,r=e(o[d].value,t,h.scaledDecimals);o[d].valueFormatted=r.text,r.suffix&&(o[d].valueFormatted+=r.suffix),r.prefix&&(o[d].valueFormatted=r.prefix+o[d].valueFormatted),o[d].valueRounded=_t(o[d].value,t)||o[d].value}h.showTimestampEnabled&&(o[d].timestampFormatted=eo(i,o[d].timestamp,h.showTimestampFormat),o[d].showTimestamp=!0)}if(""!==h.prefix&&(o[d].valueFormatted=h.prefix+" "+o[d].valueFormatted),""!==h.suffix&&(o[d].valueFormatted=o[d].valueFormatted+" "+h.suffix),""!==h.alias&&(o[d].displayName=h.alias),o[d].prefix=h.prefix,o[d].suffix=h.suffix,h.clickThrough&&h.clickThrough.length>0){let e=h.clickThrough;e=Kt.transformSingleMetric(d,e,o),e=Kt.transformNthMetric(e,o),e=Kt.transformByRegex(h.metricName,o[d],e),n&&(e=n(e)),o[d].clickThrough=e,o[d].newTabEnabled=h.clickThroughOpenNewTab,o[d].sanitizeURLEnabled=h.clickThroughSanitize,o[d].sanitizedURL=t.textUtil.sanitize(o[d].clickThrough),o[d].customClickthroughTargetEnabled=h.clickThroughCustomTargetEnabled,o[d].customClickthroughTarget=h.clickThroughCustomTarget}}else if(a&&a.length){const e=qt(a,o[d].value,l);o[d].color=e.color,o[d].thresholdLevel=e.thresholdLevel}}return o})(r,k,n,f,b,a,O,R,F),e&&(k=((e,o,r,l,a,n)=>{if(!e)return o;const i=[],s=[],c=[],u=((e,t)=>{const o=[];return e.forEach((e=>{const r=t(e.name,void 0,lo).split(Zt),l=e.name.match(/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g);l&&l.length>0&&(e.isTemplated=!0),r.forEach((t=>{o.push(ro(oo({},e),{name:t,isTemplated:e.isTemplated}))}))})),o})(e,r);for(let e=0;e<u.length;e++){const l=[],n=u[e];if(!n.showComposite)continue;let h=null;const p=ao(n.name,n.metrics,r);for(let e=0;e<p.length;e++){const c=p[e];for(let e=0;e<o.length;e++){if(void 0===c.seriesMatch)continue;let u=c.seriesMatch;void 0!==c.seriesNameEscaped&&(u=c.seriesNameEscaped);const d=(0,t.stringToJsRegex)(u).exec(o[e].name);if(d&&d.length>0){const u=o[e];if(c.alias&&c.alias.length>0&&(u.displayName=no(c.alias,d)),l.push(e),n.showMembers?s.push(e):i.push(e),n.clickThrough&&n.clickThrough.length>0){let l=n.clickThrough;l=Kt.transformComposite(n.name,l),l=Kt.transformSingleMetric(e,l,o),l=Kt.transformNthMetric(l,o),l=r(l),u.clickThrough=l,u.sanitizedURL=t.textUtil.sanitizeUrl(l),u.customClickthroughTarget=n.clickThroughCustomTarget,u.customClickthroughTargetEnabled=n.clickThroughCustomTargetEnabled}n.showTimestampEnabled&&(u.timestampFormatted=eo(a,o[e].timestamp,n.showTimestampFormat),u.showTimestamp=!0)}}}if(0!==l.length){for(let e=0;e<l.length;e++){const t=o[l[e]];h=null===h?t:Wt(h,t)}if(null!==h){const e={value:(d=h).value,valueFormatted:d.valueFormatted,valueRounded:d.valueRounded,stats:d.stats,name:d.name,displayName:d.displayName,timestamp:d.timestamp,timestampFormatted:d.timestampFormatted,prefix:d.prefix,suffix:d.suffix,color:d.color,clickThrough:d.clickThrough,operatorName:d.operatorName,newTabEnabled:d.newTabEnabled,sanitizedURL:d.sanitizedURL,sanitizeURLEnabled:d.sanitizeURLEnabled,customClickthroughTargetEnabled:!1,customClickthroughTarget:"",showName:d.showName,showValue:d.showValue,showTimestamp:d.showTimestamp,isComposite:d.isComposite,members:[]};e.name=n.name,e.displayName=n.name;for(let t=0;t<l.length;t++){const r=l[t];e.members.push(ro(oo({},o[r]),{name:o[r].displayName||o[r].name}))}e.thresholdLevel=h.thresholdLevel,e.showName=n.showName,e.showValue=n.showValue,e.showTimestamp=n.showTimestampEnabled,e.displayMode=n.displayMode,e.newTabEnabled=n.clickThroughOpenNewTab,e.sanitizeURLEnabled=n.clickThroughSanitize,e.customClickthroughTarget=n.clickThroughCustomTarget,e.customClickthroughTargetEnabled=n.clickThroughCustomTargetEnabled,e.isComposite=!0,c.push(e)}}}var d;l&&n?Array.prototype.push.apply(o,Oo(c,n)):Array.prototype.push.apply(o,c);for(let e=0;e<s.length;e++){const t=s[e],o=i.indexOf(t);o>=0&&i.splice(o,1)}i.sort(((e,t)=>t-e));for(let e=o.length;e>=0;e--)(0,v.includes)(i,e)&&o.splice(e,1);return o})(o,k,a,N,O,g)),k=Ro(k,i,s,c,u,d,a),k=ko(k,m),k=function(e,t,o){if(0===o)return e;const r=o%2==0;switch(Math.ceil(o/2)){case 1:e=(0,v.sortBy)(e,t);break;case 2:e=(0,v.sortBy)(e,(e=>{if(isNaN(e[t])){const o=e[t].match(/.*?(\d+).*/);return!o||o.length<2?-1:parseInt(o[1],10)}return o=e[t],isNaN(o)?o:Number(o);var o}));break;case 3:e=(0,v.sortBy)(e,(e=>{const o=e[t];return isNaN(o)?(0,v.toLower)(e[t]):o}))}return r&&(e=e.reverse()),e}(k,C,x),k}const Oo=(e,o)=>{for(let r=0;r<e.length;r++)if(""!==o){const l=(0,t.stringToJsRegex)(o);if(e[r].name&&l.test(e[r].name.toString())){const t=l.exec(e[r].name.toString());if(!t)continue;let o="";t.length>1&&(t.slice(1).forEach(((e,t)=>{e&&(o+=o.length>0?" "+e.toString():e.toString())})),e[r].displayName=o)}}return e},Ro=(e,o,r,l,a,n,i)=>{for(let s=0;s<e.length;s++)0===e[s].clickThrough.length&&(e[s].clickThrough=Fo(s,o,e,i),e[s].newTabEnabled=r,e[s].sanitizeURLEnabled=l,e[s].sanitizedURL=t.textUtil.sanitize(e[s].clickThrough),e[s].customClickthroughTargetEnabled=a,e[s].customClickthroughTarget=n);return e},Fo=(e,t,o,r)=>{let l=t;return l=Kt.transformSingleMetric(e,l,o),l=Kt.transformNthMetric(l,o),l=r(l),l},Ao=(e,o,r,l,a,n,i,s,c,u,d)=>{let h=d.visualization.getColorByName(a);const p=(0,t.getValueFormat)(r);for(let t=0;t<e.length;t++)if(null!==e[t].value){e[t].showName=n,e[t].showValue=i;const r=wo(o.defaults.mappings,e[t].value);if(r&&""!==r.text)if(e[t].valueFormatted=r.text,s&&(e[t].timestampFormatted=eo(u,e[t].timestamp,c),e[t].showTimestamp=!0),r.color){let o=d.visualization.getColorByName(r.color);e[t].color=o}else e[t].color=h;else{if(p){const o=$t(e[t].value,l),r=p(e[t].value,o.decimals,o.scaledDecimals);e[t].valueFormatted=r.text,r.suffix&&(e[t].valueFormatted+=` ${r.suffix}`),r.prefix&&(e[t].valueFormatted=`{$formatted.prefix} ${e[t].valueFormatted}`);const a=_t(e[t].value,o.decimals);null!==a&&(e[t].valueRounded=a),s&&(e[t].timestampFormatted=eo(u,e[t].timestamp,c),e[t].showTimestamp=!0)}e[t].color=h}}return e},ko=(e,t)=>{const o=[],r=[];if("all"!==t){const t=e.length;for(let l=0;l<t;l++){const t=e[l];t.isComposite&&r.push(t),t.thresholdLevel<1&&o.push(l)}for(let t=e.length;t>=0;t--)(0,v.includes)(o,t)&&e.splice(t,1);0===e.length&&r.length>0&&(e=r)}return e},Io=(e,o)=>{const l=[];let a=0;for(const o of e.fields)if(o.type===t.FieldType.number)l.push(o);else if(o.type===t.FieldType.time){const t=o.values.get(e.length-1);0===a&&(a=t),t>a&&(a=t)}0===a&&(a=(new Date).getTime());const i=[];for(const s of l){const l=(0,t.getFieldDisplayName)(s,e),c=(0,t.reduceField)({field:s,reducers:["bogus"]}),u=io(l,null,o,c);let d=4;void 0!==s.config.decimals&&null!==s.config.decimals&&(d=s.config.decimals);const h=(0,t.getValueFormat)(s.config.unit)(u,d,void 0,void 0),p=(0,t.formattedValueToString)(h),m={displayMode:n[0].value,thresholdLevel:0,value:u,valueFormatted:p,valueRounded:_t(u,d)||u,stats:c,name:l,displayName:l,timestamp:a,timestampFormatted:"",prefix:"",suffix:"",color:L,clickThrough:"",operatorName:r[0].value,newTabEnabled:!0,sanitizedURL:"",sanitizeURLEnabled:!0,showName:!0,showValue:!0,showTimestamp:!1,isComposite:!1,members:[],customClickthroughTargetEnabled:!1,customClickthroughTarget:""};i.push(m)}return i},Lo=e=>({wrapper:O.css`
      position: relative;
    `,container:O.css`
      align-items: center;
      justify-content: center;
      display: flex;
      height: 100%;
      width: 100%;
      & svg > g > polygon {
        fill: transparent;
      }
    `}),Do=[{value:"all",label:"Show All"},{value:"triggered",label:"Show Triggered"}];function $o(e,t,o,r,l,a,n){try{var i=e[a](n),s=i.value}catch(e){return void o(e)}i.done?t(s):Promise.resolve(s).then(r,l)}const Po=e=>{const[t,o]=(0,f.useState)([]);function r(){var t;return t=function*(t){if(e.metric.seriesMatch){const t=e.metric.seriesMatch;if("clipboard"in navigator){if(t)return yield navigator.clipboard.writeText(t)}else if(t)return document.execCommand("copy",!0,t)}},r=function(){var e=this,o=arguments;return new Promise((function(r,l){var a=t.apply(e,o);function n(e){$o(a,r,l,n,i,"next",e)}function i(e){$o(a,r,l,n,i,"throw",e)}n(void 0)}))},r.apply(this,arguments)}return(0,f.useEffect)((()=>{if(e.context.data){const t=e.context.data;let r=[],l=G(t);for(const e of l)r.push({label:e,value:e});o(r)}}),[e.context.data]),b().createElement(y.FieldSet,null,b().createElement(y.HorizontalGroup,null,b().createElement(y.IconButton,{key:"deleteMetric",variant:"destructive",name:"trash-alt",tooltip:"Delete this metric",onClick:()=>e.removeMetric(e.index)}),b().createElement(y.IconButton,{key:"copyMetric",variant:"secondary",name:"copy",tooltip:"Copy Metric/Regex",onClick:()=>function(e){return r.apply(this,arguments)}(e.index)}),b().createElement(y.Field,{label:"Metric/RegEx",style:{minWidth:"175px"},disabled:e.disabled},b().createElement(y.Cascader,{key:`cmi-index-${e.index}`,initialValue:e.metric.seriesMatch,allowCustomValue:!0,placeholder:"",options:t,onSelect:t=>{return o=t,void e.updateMetric(e.index,o);var o}})),b().createElement(y.Field,{label:"Alias",disabled:e.disabled},b().createElement(y.Input,{value:e.metric.alias,placeholder:"",onChange:t=>{return o=t.currentTarget.value,void e.updateMetricAlias(e.index,o);var o}}))))};function _o(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Mo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},r=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),r.forEach((function(t){_o(e,t,o[t])}))}return e}function zo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o.push.apply(o,r)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}const Vo=e=>{const[t,o]=(0,f.useState)(e.composite),[r,l]=(0,f.useState)((e=>{const t=Do.keys();for(const o of t)if(Do[o].value===e)return Do[o];return Do[0]})(e.composite.displayMode)),a=r=>{o(r),e.setter(t.order,r)},[n]=(0,f.useState)("eye"),[i]=(0,f.useState)("eye-slash"),s=t=>{let o=[...e.composite.metrics];o.splice(t,1),a(zo(Mo({},e.composite),{metrics:o}))},c=(t,o)=>{const r=e.composite.metrics;r[t].seriesMatch=o,a(zo(Mo({},e.composite),{metrics:r}))},u=(t,o)=>{const r=e.composite.metrics;r[t].alias=o,a(zo(Mo({},e.composite),{metrics:r}))};return b().createElement(y.Card,{key:`composite-card-${e.ID}`},b().createElement(y.Card.Meta,null,b().createElement(y.FieldSet,null,b().createElement(y.Field,{label:"Composite Name",description:"Name or Regular Expression",disabled:!t.showComposite},b().createElement(y.Input,{value:t.name,placeholder:"",onChange:e=>a(zo(Mo({},t),{name:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Show Name",description:"Toggle Display of composite name",disabled:!t.showComposite},b().createElement(y.Switch,{transparent:!0,value:t.showName,disabled:!t.showComposite,onChange:()=>{const e=t.showName;a(zo(Mo({},t),{showName:!e}))}})),b().createElement(y.Field,{label:"Show Value",description:"Toggle Display of composite value",disabled:!t.showComposite},b().createElement(y.Switch,{transparent:!0,value:t.showValue,disabled:!t.showComposite,onChange:()=>a(zo(Mo({},t),{showValue:!t.showValue}))})),b().createElement(y.Field,{label:"Show Members",description:"Toggle Display of composite members",disabled:!t.showComposite},b().createElement(y.Switch,{transparent:!0,value:t.showMembers,disabled:!t.showComposite,onChange:()=>a(zo(Mo({},t),{showMembers:!t.showMembers}))})),b().createElement(y.Field,{label:"Display Mode",description:"All will display all members, Triggered will only display those meeting threshold settings",disabled:!t.showComposite},b().createElement(y.Select,{menuShouldPortal:!0,value:r,onChange:e=>{l(e),a(zo(Mo({},t),{displayMode:e.value}))},options:Do})),b().createElement(y.Field,{label:"Clickthrough URL",description:"URL to Open on Click",disabled:!t.showComposite},b().createElement(y.Input,{value:t.clickThrough,placeholder:"https://",onChange:e=>a(zo(Mo({},t),{clickThrough:e.currentTarget.value}))})),b().createElement(y.Field,{label:"Sanitize URL",description:"Sanitize URL before evaluating",disabled:!t.showComposite},b().createElement(y.Switch,{transparent:!1,disabled:!t.showComposite,value:t.clickThroughSanitize,onChange:()=>a(zo(Mo({},t),{clickThroughSanitize:!t.clickThroughSanitize}))})),b().createElement(y.Field,{label:"Open URL in New Tab",description:"Open link in new tab",disabled:!t.showComposite},b().createElement(y.Switch,{transparent:!1,value:t.clickThroughOpenNewTab,disabled:!t.showComposite,onChange:()=>a(zo(Mo({},t),{clickThroughOpenNewTab:!t.clickThroughOpenNewTab}))})),b().createElement(y.Field,{label:"Enable Custom URL Target",description:"Enable custom target",disabled:!t.showComposite,hidden:t.clickThroughOpenNewTab},b().createElement(y.Switch,{transparent:!1,value:t.clickThroughCustomTargetEnabled,disabled:!t.showComposite,onChange:()=>a(zo(Mo({},t),{clickThroughCustomTargetEnabled:!t.clickThroughCustomTargetEnabled,clickThroughCustomTarget:t.clickThroughCustomTarget||""}))})),b().createElement(y.Field,{label:"Custom URL Target",description:"Specify a custom target, typical values are: _blank|_self|_parent|_top|framename",disabled:!t.showComposite,hidden:!t.clickThroughCustomTargetEnabled},b().createElement(y.Input,{value:t.clickThroughCustomTarget,placeholder:"_self",disabled:!t.showComposite,onChange:e=>a(zo(Mo({},t),{clickThroughCustomTarget:e.currentTarget.value}))})),b().createElement(y.Field,{disabled:!t.showComposite},b().createElement(y.Button,{key:"addMetric",variant:"primary",icon:"plus",disabled:!t.showComposite,onClick:()=>{const e={seriesMatch:"",ID:N(),order:0};if(t.metrics){const o=t.metrics;e.order=o.length,o.push(e),a(zo(Mo({},t),{metrics:o}))}else{const o=[];o.push(e),a(zo(Mo({},t),{metrics:o}))}}},"Add Metric")),t.metrics&&t.metrics.map(((o,r)=>(o.ID||(o.ID=N()),b().createElement(Po,{key:`composite-metric-id-${o.ID}`,metric:o,index:r,disabled:!t.showComposite,updateMetric:c,updateMetricAlias:u,removeMetric:s,context:e.context})))))),b().createElement(y.Card.Actions,null,b().createElement(y.IconButton,{key:"moveUp",name:"arrow-up",tooltip:"Move Up",onClick:()=>{e.moveUp(t.order)}}),b().createElement(y.IconButton,{key:"moveDown",name:"arrow-down",tooltip:"Move Down",onClick:()=>{e.moveDown(t.order)}}),b().createElement(y.IconButton,{key:"showComposite",name:t.showComposite?n:i,tooltip:"Hide/Show Composite",onClick:()=>a(zo(Mo({},t),{showComposite:!t.showComposite}))}),b().createElement(y.IconButton,{key:"copyComposite",name:"copy",tooltip:"Duplicate",onClick:()=>{e.createDuplicate(t.order)}}),b().createElement(y.IconButton,{key:"deleteComposite",variant:"destructive",name:"trash-alt",tooltip:"Delete Composite",onClick:()=>{e.remover(t.order)}})))},jo=({context:e,onChange:t})=>{const[o]=(0,f.useState)(e.options.compositeConfig),[r,l]=(0,f.useState)(e.options.compositeConfig.animationSpeed),[a,n]=(0,f.useState)(e.options.compositeConfig.enabled),[i,s]=(0,f.useState)((()=>{if(o.composites){const e=[];return o.composites.forEach(((t,o)=>{e[o]={composite:t,order:o,ID:N()}})),e}return[]})),c=e=>{s(e);const r=[];e.forEach((e=>{r.push(e.composite)}));const l={composites:r,animationSpeed:o.animationSpeed,enabled:o.enabled};t(l)},[u,d]=(0,f.useState)((()=>{if(!i)return[];let e=i.length;const t=[];for(;e--;)t[e]=!1;return t})),p=(e,t,o)=>{if(o>=e.length){let t=o-e.length+1;for(;t--;)e.push(void 0)}e.splice(o,0,e.splice(t,1)[0])},m=e=>{if(e!==i.length-1){p(i,e,e+1);for(let e=0;e<i.length;e++)i[e].order=e,i[e].composite.order=e;c([...i])}},g=e=>{if(e>0){p(i,e,e-1);for(let e=0;e<i.length;e++)i[e].order=e,i[e].composite.order=e;c([...i])}},v=e=>{const t=i[e].composite,o=i.length,r={composite:{name:`${t.name} Copy`,label:`${t.name} Copy`,order:o,isTemplated:t.isTemplated,displayMode:t.displayMode,enabled:t.enabled,showName:t.showName,showValue:t.showValue,showComposite:t.showComposite,showMembers:t.showMembers,showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0,metrics:t.metrics,clickThrough:t.clickThrough,clickThroughOpenNewTab:t.clickThroughOpenNewTab,clickThroughSanitize:t.clickThroughSanitize,clickThroughCustomTargetEnabled:t.clickThroughCustomTargetEnabled,clickThroughCustomTarget:t.clickThroughCustomTarget},order:o,ID:N()};c([...i,r]),d([...u,!0])},E=(e,t)=>{i[e].composite=t,c([...i])},w=e=>{const t=[...i];let o=0;for(let r=0;r<t.length;r++)if(t[r].order===e){o=r;break}t.splice(o,1);for(let e=0;e<t.length;e++)t[e].order=e;c([...t])};return b().createElement(b().Fragment,null,b().createElement(y.FieldSet,null,b().createElement(y.Field,{label:"Enable Composites",description:"Enable/Disable Composites Globally"},b().createElement(y.Switch,{transparent:!0,value:a,onChange:()=>{return n(e=!a),o.enabled=e,void t(o);var e}})),b().createElement(y.Field,{label:"Animation Speed (ms)",description:"Animation Speed in milliseconds",disabled:!o.enabled},b().createElement(y.Input,{value:r,placeholder:"500",onChange:e=>{return r=e.currentTarget.value,l(r),o.animationSpeed=r,void t(o);var r}}))),b().createElement(y.Button,{fill:"solid",variant:"primary",icon:"plus",disabled:!o.enabled,onClick:()=>{const e=i.length,t={composite:{name:`Composite-${e}`,label:`Composite-${e}`,showName:!0,showValue:!0,showMembers:!1,showComposite:!0,showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0,isTemplated:!1,enabled:!0,metrics:[],displayMode:Do[0].value,clickThrough:"",clickThroughOpenNewTab:!0,clickThroughSanitize:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:"",order:e},order:e,ID:N()};c([...i,t]),d([...u,!0])}},"Add Composite"),i&&i.map(((t,o)=>b().createElement(y.Collapse,{key:`collapse-item-index-${t.ID}`,label:t.composite.name,isOpen:u[o],onToggle:()=>(e=>{const t=[...u];t[e]=!t[e],d([...t])})(o),collapsible:!0},b().createElement(Vo,{key:`composite-item-index-${t.ID}`,ID:t.ID,composite:t.composite,enabled:t.composite.enabled,setter:E,remover:w,moveUp:g,moveDown:m,createDuplicate:v,context:e})))))},Uo=({context:e,onChange:t})=>{const[o,r]=(0,f.useState)(e.options.globalThresholdsConfig);return b().createElement(b().Fragment,null,b().createElement(y.Field,null,b().createElement(H,{thresholds:o,setter:e=>{r(e),t(e)}})))};var Bo=c(8449);const Ho=e=>{switch(e){case"avg":return"mean";case"current":return"last";case"time_step":return"step";case"total":return"sum";default:return e}},Go=()=>{const e=(0,Bo.coerce)(Jt.config.buildInfo.version);return!(null===e||!(0,Bo.satisfies)(e,"<9.4.0"))},Yo=new t.PanelPlugin((({options:e,data:o,id:r,width:l,height:a,replaceVariables:n,fieldConfig:i,timeZone:s})=>{const c=(0,y.useStyles2)(Lo),u=(0,y.useTheme)(),d=(0,y.useTheme2)();let[h,p]=(0,f.useState)();return(0,f.useEffect)((()=>{if(o.state===t.LoadingState.Done){const t=No(e.compositeConfig.enabled,e.compositeConfig.composites,e.overrideConfig.overrides,o,n,i,e.globalClickthrough,e.globalClickthroughNewTabEnabled,e.globalClickthroughSanitizedEnabled,e.globalClickthroughCustomTargetEnabled,e.globalClickthroughCustomTarget,e.globalOperator,e.globalDecimals,e.globalDisplayMode,e.globalRegexPattern,e.globalFillColor,e.globalThresholdsConfig,e.globalUnitFormat,!0,e.globalShowValueEnabled,e.globalShowTimestampEnabled,e.globalShowTimestampFormat,e.sortByDirection,e.sortByField,e.compositeGlobalAliasingEnabled,s,u,d);p(t)}}),[o,i,e,n,u,d,s]),void 0===h?b().createElement(b().Fragment,null,"Loading... please wait"):b().createElement("div",{className:(0,O.cx)(c.wrapper,O.css`
          width: ${l}px;
          height: ${a}px;
        `)},b().createElement("div",{className:(0,O.cx)(c.container)},b().createElement(zt,{compositeConfig:e.compositeConfig,overrideConfig:e.overrideConfig,autoSizePolygons:e.autoSizePolygons,globalAutoScaleFonts:e.globalAutoScaleFonts,globalClickthrough:e.globalClickthrough,globalClickthroughNewTabEnabled:e.globalClickthroughNewTabEnabled,globalClickthroughSanitizedEnabled:e.globalClickthroughSanitizedEnabled,globalClickthroughCustomTargetEnabled:e.globalClickthroughCustomTargetEnabled,globalClickthroughCustomTarget:e.globalClickthroughCustomTarget,globalOperator:e.globalOperator,globalDecimals:e.globalDecimals,globalDisplayMode:e.globalDisplayMode,globalDisplayTextTriggeredEmpty:e.globalDisplayTextTriggeredEmpty,globalFontSize:e.globalFontSize,globalPolygonSize:e.globalPolygonSize,ellipseCharacters:e.ellipseCharacters,ellipseEnabled:e.ellipseEnabled,globalFillColor:e.globalFillColor,globalRegexPattern:e.globalRegexPattern,globalGradientsEnabled:e.globalGradientsEnabled,globalShowTimestampEnabled:e.globalShowTimestampEnabled,globalShowTimestampFormat:e.globalShowTimestampFormat,globalShowTimestampPosition:e.globalShowTimestampPosition,globalShowTimestampFontSize:e.globalShowTimestampFontSize,globalShowTimestampYOffset:e.globalShowTimestampYOffset,globalTextFontAutoColor:e.globalTextFontAutoColorEnabled?d.colors.text.primary:"#000000",globalTextFontAutoColorEnabled:e.globalTextFontAutoColorEnabled,globalTextFontColor:e.globalTextFontColor,globalTextFontFamily:e.globalTextFontFamily,globalThresholdsConfig:e.globalThresholdsConfig,globalTooltipsEnabled:e.globalTooltipsEnabled,globalTooltipsShowTimestampEnabled:e.globalTooltipsShowTimestampEnabled,globalTooltipsFontFamily:e.globalTooltipsFontFamily,globalUnitFormat:e.globalUnitFormat,autoSizeColumns:e.autoSizeColumns,autoSizeRows:e.autoSizeRows,layoutDisplayLimit:e.layoutDisplayLimit,layoutNumColumns:e.layoutNumColumns,layoutNumRows:e.layoutNumRows,processedData:h,panelId:r,panelWidth:l,panelHeight:a,radius:e.radius,renderTime:new Date,globalShape:e.globalShape,sortByDirection:e.sortByDirection,sortByField:e.sortByField,globalPolygonBorderColor:e.globalPolygonBorderColor,globalPolygonBorderSize:e.globalPolygonBorderSize,globalShowValueEnabled:e.globalShowValueEnabled,globalShowTooltipColumnHeadersEnabled:e.globalShowTooltipColumnHeadersEnabled,tooltipPrimarySortDirection:e.tooltipPrimarySortDirection,tooltipPrimarySortByField:e.tooltipPrimarySortByField,tooltipSecondarySortDirection:e.tooltipSecondarySortDirection,tooltipSecondarySortByField:e.tooltipSecondarySortByField,tooltipDisplayMode:e.tooltipDisplayMode,tooltipDisplayTextTriggeredEmpty:e.tooltipDisplayTextTriggeredEmpty,compositeGlobalAliasingEnabled:e.compositeGlobalAliasingEnabled})))})).setMigrationHandler((o=>{if(!o.polystat)return o.options?o.options:{};const r=(t=>{let o={autoSizeColumns:!0,autoSizeRows:!0,autoSizePolygons:!0,ellipseCharacters:18,ellipseEnabled:!1,globalAutoScaleFonts:!0,globalClickthrough:"",globalClickthroughNewTabEnabled:!1,globalClickthroughSanitizedEnabled:!1,globalClickthroughCustomTargetEnabled:!1,globalClickthroughCustomTarget:"",globalDecimals:2,globalDisplayMode:"all",globalDisplayTextTriggeredEmpty:"",globalFillColor:"",globalFontSize:8,globalGradientsEnabled:!1,globalOperator:"mean",globalPolygonBorderSize:1,globalPolygonBorderColor:"",globalPolygonSize:50,globalRegexPattern:"",globalShape:e.HEXAGON_POINTED_TOP,globalShowValueEnabled:!0,globalShowTooltipColumnHeadersEnabled:!0,globalShowTimestampEnabled:!1,globalShowTimestampFormat:h[0].value,globalShowTimestampPosition:m[0].value,globalShowTimestampFontSize:12,globalShowTimestampYOffset:0,globalTextFontColor:"#000000",globalTextFontAutoColor:"#000000",globalTextFontAutoColorEnabled:!1,globalTextFontFamily:i.INTER,globalThresholdsConfig:[],globalTooltipsEnabled:!0,globalTooltipsShowTimestampEnabled:!0,globalTooltipsFontFamily:i.INTER,globalUnitFormat:"",layoutDisplayLimit:100,layoutNumColumns:8,layoutNumRows:8,panelHeight:void 0,panelWidth:void 0,panelId:0,radius:100,renderTime:void 0,sortByField:"",sortByDirection:0,overrideConfig:{overrides:[]},compositeGlobalAliasingEnabled:!1,compositeConfig:{animationSpeed:"",composites:[],enabled:!1},tooltipPrimarySortDirection:0,tooltipPrimarySortByField:"",tooltipSecondarySortDirection:0,tooltipSecondarySortByField:"",tooltipDisplayMode:"all",tooltipDisplayTextTriggeredEmpty:""};if(t.animationSpeed&&o.compositeConfig&&(o.compositeConfig.animationSpeed=t.animationSpeed.toString()),t.columnAutoSize&&(o.autoSizeColumns=t.columnAutoSize),t.columns){let e=parseInt(t.columns,10);(isNaN(e)||e<1)&&(e=8),o.layoutNumColumns=e}if(t.defaultClickThrough&&(o.globalClickthrough=t.defaultClickThrough),t.defaultClickThroughNewTab&&(o.globalClickthroughNewTabEnabled=t.defaultClickThroughNewTab),t.defaultClickThroughSanitize&&(o.globalClickthroughSanitizedEnabled=t.defaultClickThroughSanitize),t.displayLimit&&(o.layoutDisplayLimit=t.displayLimit),t.ellipseCharacters&&(o.ellipseCharacters=t.ellipseCharacters),t.ellipseEnabled&&(o.ellipseEnabled=t.ellipseEnabled),t.fontAutoColor&&(o.globalTextFontAutoColorEnabled=t.fontAutoColor),t.fontAutoScale&&(o.globalAutoScaleFonts=t.fontAutoScale),t.fontSize&&(o.globalFontSize=t.fontSize),o.globalTextFontFamily=i.INTER,Go()&&(o.globalTextFontFamily=i.ROBOTO),t.globalDecimals&&(o.globalDecimals=t.globalDecimals),t.globalDisplayMode&&(o.globalDisplayMode=t.globalDisplayMode),t.globalDisplayTextTriggeredEmpty&&(o.globalDisplayTextTriggeredEmpty=t.globalDisplayTextTriggeredEmpty),t.globalOperatorName&&(o.globalOperator=Ho(t.globalOperatorName)),t.globalThresholds){o.globalThresholdsConfig=[];for(const e of t.globalThresholds){const t={value:e.value,state:e.state,color:e.color};o.globalThresholdsConfig.push(t)}}if(t.globalUnitFormat&&(o.globalUnitFormat=t.globalUnitFormat),t.gradientEnabled&&(o.globalGradientsEnabled=t.gradientEnabled),t.hexagonSortByDirection&&(o.sortByDirection=t.hexagonSortByDirection),t.hexagonSortByField&&(o.sortByField=t.hexagonSortByField),t.polygonBorderColor&&(o.globalPolygonBorderColor=t.polygonBorderColor),t.polygonBorderSize&&(o.globalPolygonBorderSize=t.polygonBorderSize),t.polygonGlobalFillColor&&(o.globalFillColor=t.polygonGlobalFillColor),t.radius){let e=parseFloat(t.radius);(isNaN(e)||e<0)&&(e=0),o.radius=e}if(t.radiusAutoSize&&(o.autoSizePolygons=t.radiusAutoSize),t.regexPattern&&(o.globalRegexPattern=t.regexPattern),t.rowAutoSize&&(o.autoSizeRows=t.rowAutoSize),t.rows){let e=parseInt(t.rows,10);(isNaN(e)||e<1)&&(e=8),o.layoutNumRows=e}if(t.shape)switch(t.shape){case"circle":o.globalShape=e.CIRCLE;break;case"square":o.globalShape=e.SQUARE;break;default:o.globalShape=e.HEXAGON_POINTED_TOP}return t.tooltipDisplayMode&&(o.tooltipDisplayMode=t.tooltipDisplayMode),t.tooltipDisplayTextTriggeredEmpty&&(o.tooltipDisplayTextTriggeredEmpty=t.tooltipDisplayTextTriggeredEmpty),t.tooltipEnabled&&(o.globalTooltipsEnabled=t.tooltipEnabled),t.tooltipPrimarySortDirection&&(o.tooltipPrimarySortDirection=t.tooltipPrimarySortDirection),t.tooltipPrimarySortField&&(o.tooltipPrimarySortByField=t.tooltipPrimarySortField),t.tooltipSecondarySortDirection&&(o.tooltipSecondarySortDirection=t.tooltipSecondarySortDirection),t.tooltipSecondarySortField&&(o.tooltipSecondarySortByField=t.tooltipSecondarySortField),t.tooltipTimestampEnabled&&(o.globalTooltipsShowTimestampEnabled=t.tooltipTimestampEnabled),o.globalTooltipsFontFamily=i.INTER,Go()&&(o.globalTooltipsFontFamily=i.ROBOTO),t.valueEnabled&&(o.globalShowValueEnabled=t.valueEnabled),o})(o.polystat);let l=r;delete o.polystat;const a=(e=>{var t;let o={overrideConfig:{overrides:[]}};if(null===(t=e.savedOverrides)||void 0===t?void 0:t.length){let t=0;for(const r of e.savedOverrides){let e={label:"",metricName:"",alias:"",thresholds:[],colors:[],unitFormat:"",decimals:"",scaledDecimals:0,enabled:!0,operatorName:"avg",prefix:"",suffix:"",clickThrough:"",clickThroughSanitize:!0,clickThroughOpenNewTab:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:"",order:t,showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0};for(const t of Object.keys(r)){const o=r[t];switch(t){case"$$hashKey":break;case"clickThrough":e.clickThrough=o;break;case"colors":e.colors=o;break;case"decimals":e.decimals=o;break;case"enabled":e.enabled=o;break;case"label":e.label=o;break;case"metricName":e.metricName=o;break;case"newTabEnabled":e.clickThroughOpenNewTab=o;break;case"operatorName":e.operatorName=Ho(o);break;case"prefix":e.prefix=o;break;case"sanitizeURLEnabled":e.clickThroughSanitize=o;break;case"suffix":e.suffix=o;break;case"thresholds":e.thresholds=[];for(const t of o){const o={value:t.value,state:t.state,color:t.color};e.thresholds.push(o)}break;case"unitFormat":e.unitFormat=o;break;default:console.log("Ignore override migration:",t,o)}}o.overrideConfig.overrides.push(e),t++}}return o})(o),s=((e,t)=>{var o;let r={};if(r.compositeConfig={composites:[],enabled:!0,animationSpeed:t},null===(o=e.savedComposites)||void 0===o?void 0:o.length){let t=0;for(const o of e.savedComposites){let e={name:`COMPOSITE-${t}`,label:`COMPOSITE-${t}`,order:t,isTemplated:!1,displayMode:n[0].value,enabled:!0,showName:!0,showValue:!0,showComposite:!0,showMembers:!1,showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0,metrics:[],clickThrough:"",clickThroughSanitize:!0,clickThroughOpenNewTab:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:""};t++;for(const t of Object.keys(o)){const r=o[t];switch(t){case"$$hashKey":case"displayName":case"sanitizedURL":break;case"animateMode":"all"!==r&&(e.displayMode=n[1].value);break;case"clickThrough":e.clickThrough=r;break;case"compositeName":e.name=r;break;case"enabled":e.showComposite=r;break;case"hideMembers":e.showMembers=!r;break;case"label":e.label=r;break;case"members":let o=0,l=[];for(const e of Object.keys(r)){let t={seriesMatch:r[e].seriesName,order:o};l.push(t),o++}e.metrics=l;break;case"newTabEnabled":e.clickThroughOpenNewTab=r;break;case"sanitizeURLEnabled":e.clickThroughSanitize=r;break;case"showName":e.showName=r;break;case"showValue":e.showValue=r;break;default:console.log("Ignore composite migration:",t,r)}}r.compositeConfig.composites.push(e)}}return r})(o,r.compositeConfig.animationSpeed);l.compositeConfig=s.compositeConfig,l.overrideConfig=a.overrideConfig;const c=(e=>{e.mappingType=1;let o=[];void 0!==e.valueMaps&&(o=(0,t.convertOldAngularValueMappings)(e)),e.mappingType=2;let r=[];void 0!==e.rangeMaps&&(r=(0,t.convertOldAngularValueMappings)(e));const l=o.concat(r);return[...new Map(l.map((e=>[JSON.stringify(e),e]))).values()]})(o);return o.fieldConfig={defaults:{mappings:c},overrides:[]},delete o.mappingType,delete o.rangeMaps,delete o.valueMaps,delete o.savedComposites,delete o.savedOverrides,delete o.colors,Object.keys(o).forEach((e=>void 0===o[e]?delete o[e]:{})),Object.keys(l).forEach((e=>void 0===l[e]?delete l[e]:{})),l})).useFieldConfig({disableStandardOptions:[t.FieldConfigProperty.Thresholds,t.FieldConfigProperty.Color,t.FieldConfigProperty.Decimals,t.FieldConfigProperty.DisplayName,t.FieldConfigProperty.Max,t.FieldConfigProperty.Min,t.FieldConfigProperty.Links,t.FieldConfigProperty.NoValue,t.FieldConfigProperty.Unit],standardOptions:{[t.FieldConfigProperty.Mappings]:{}}}).setPanelOptions((e=>{e.addBooleanSwitch({name:"Auto Size Columns",path:"autoSizeColumns",defaultValue:!0,category:["Layout"],description:"Automatically set columns based on panel size"}).addNumberInput({path:"layoutNumColumns",name:"Columns",description:"Use specific number of columns",defaultValue:8,settings:{placeHolder:"8",min:1,integer:!0},category:["Layout"],showIf:e=>!e.autoSizeColumns}).addBooleanSwitch({name:"Auto Size Rows",path:"autoSizeRows",defaultValue:!0,category:["Layout"],description:"Automatically set rows based on panel size"}).addNumberInput({path:"layoutNumRows",name:"Rows",description:"Use specific number of rows",defaultValue:8,settings:{placeHolder:"8",min:1,integer:!0},category:["Layout"],showIf:e=>!e.autoSizeRows}).addNumberInput({path:"layoutDisplayLimit",name:"Display Limit",description:"Maximum number of polygons to display (0 for unlimited)",defaultValue:100,settings:{min:0,integer:!0},category:["Layout"]}).addBooleanSwitch({name:"Auto Size Polygons",path:"autoSizePolygons",defaultValue:!0,category:["Sizing"],description:"Automatically sets size of polygon for best fit"}).addNumberInput({name:"Polygon Size in pixels",path:"globalPolygonSize",description:"Use specific size for polygons",defaultValue:25,settings:{placeHolder:"Auto",min:1},category:["Sizing"],showIf:e=>!e.autoSizePolygons}).addNumberInput({name:"Border Size",path:"globalPolygonBorderSize",description:"Border size for each polygon",defaultValue:2,settings:{min:0},category:["Sizing"]}).addSelect({path:"globalTextFontFamily",name:"Font Family",description:"Font used for rendered text",category:["Text"],defaultValue:V,settings:{options:s},showIf:()=>!Go()}).addSelect({path:"globalTextFontFamily",name:"Font Family",description:"Font used for rendered text",category:["Text"],defaultValue:U,settings:{options:d},showIf:()=>Go()}).addBooleanSwitch({name:"Auto Scale Fonts",path:"globalAutoScaleFonts",defaultValue:!0,category:["Text"],description:"Automatically sets label and value font size based on size of polygon"}).addNumberInput({name:"Font Size",path:"globalFontSize",defaultValue:12,settings:{min:0},category:["Text"],description:"Default font size to use when Auto is disabled",showIf:e=>!e.globalAutoScaleFonts}).addBooleanSwitch({name:"Automate Font Color",path:"globalTextFontAutoColorEnabled",defaultValue:!0,category:["Text"],description:"Sets font color to match theme"}).addColorPicker({name:"Font Color",path:"globalTextFontColor",category:["Text"],defaultValue:"#000000",description:"Font color to use for all text on polygon",showIf:e=>!e.globalTextFontAutoColorEnabled}).addBooleanSwitch({name:"Use Ellipses",path:"ellipseEnabled",defaultValue:!1,category:["Text"],description:"Use Ellipses when character count is exceeded",showIf:e=>!e.globalAutoScaleFonts}).addNumberInput({name:"Ellipse Characters",path:"ellipseCharacters",defaultValue:18,settings:{min:0,integer:!0},category:["Text"],description:"Default number of characters to display before showing ellipses",showIf:e=>e.ellipseEnabled&&!e.globalAutoScaleFonts}).addSelect({path:"sortByDirection",name:"Sort By Direction",description:"Direction of sorting by the specified field",category:["Sorting"],defaultValue:1,settings:{options:l}}).addSelect({path:"sortByField",name:"Sort By Field",description:"Which field should be used for sorting",defaultValue:"name",category:["Sorting"],settings:{options:a}}).addBooleanSwitch({name:"Enable Tooltips",path:"globalTooltipsEnabled",defaultValue:!0,category:["Tooltips"],description:"Provides tooltips for each polygon"}).addSelect({path:"globalTooltipsFontFamily",name:"Font Family",description:"Font used for tooltip text",category:["Tooltips"],defaultValue:j,settings:{options:s},showIf:()=>!Go()}).addSelect({path:"globalTooltipsFontFamily",name:"Font Family",description:"Font used for tooltip text",category:["Tooltips"],defaultValue:B,settings:{options:d},showIf:()=>Go()}).addBooleanSwitch({name:"Show timestamp",path:"globalTooltipsShowTimestampEnabled",defaultValue:!0,category:["Tooltips"],description:"Show timestamp at bottom of tooltip"}).addBooleanSwitch({name:"Show Column Headers",path:"globalShowTooltipColumnHeadersEnabled",defaultValue:!0,category:["Tooltips"],description:"Show Column headers on tooltip"}).addSelect({path:"tooltipDisplayMode",name:"Display Mode",description:"Show either all metrics/composites or only triggered",defaultValue:"all",category:["Tooltips"],settings:{options:n}}).addTextInput({path:"tooltipDisplayTextTriggeredEmpty",name:"Non Triggered State Text",description:"Text to be displayed by tooltip when there are no triggered thresholds and tooltip display mode is set to triggered",defaultValue:"OK",category:["Tooltips"]}).addSelect({path:"tooltipPrimarySortDirection",name:"Primary Sort Direction",description:"Direction of sorting by the specified field",category:["Tooltips"],defaultValue:l[1].value,settings:{options:l}}).addSelect({path:"tooltipPrimarySortByField",name:"Primary Sort By Field",description:"Which field should be used for sorting",defaultValue:"thresholdLevel",category:["Tooltips"],settings:{options:a}}).addSelect({path:"tooltipSecondarySortDirection",name:"Secondary Sort Direction",description:"Direction of sorting by the specified field",category:["Tooltips"],defaultValue:l[1].value,settings:{options:l}}).addSelect({path:"tooltipSecondarySortByField",name:"Secondary Sort By Field",description:"Which field should be used for sorting",defaultValue:"value",category:["Tooltips"],settings:{options:a}}).addSelect({path:"globalDisplayMode",name:"Display Mode",description:"Show either all metrics/composites or only triggered",defaultValue:"all",category:["Global"],settings:{options:n}}).addTextInput({path:"globalDisplayTextTriggeredEmpty",name:"Non Triggered State Text",description:"Text to be displayed in polygon when there are no triggered thresholds and global display mode is set to triggered",defaultValue:"OK",category:["Global"]}).addBooleanSwitch({name:"Show Value",path:"globalShowValueEnabled",defaultValue:!0,category:["Global"],description:"Show value on the polygon"}).addBooleanSwitch({name:"Show Timestamp",path:"globalShowTimestampEnabled",defaultValue:!1,category:["Global"],description:"Show timestamp of metric on the polygon"}).addSelect({name:"Timestamp Format",path:"globalShowTimestampFormat",description:"Format of timestamp to display",category:["Global"],defaultValue:h[2].value,settings:{options:h,allowCustomValue:!0},showIf:e=>e.globalShowTimestampEnabled}).addNumberInput({name:"Font Size",path:"globalShowTimestampFontSize",defaultValue:12,settings:{min:0},category:["Global"],description:"Default font size to use when Global Auto Scale Fonts is disabled",showIf:e=>!e.globalAutoScaleFonts}).addSelect({name:"Timestamp Position",path:"globalShowTimestampPosition",description:"Position of Timestamp",category:["Global"],defaultValue:m[1].value,settings:{options:m,allowCustomValue:!1},showIf:e=>e.globalShowTimestampEnabled}).addNumberInput({name:"Timestamp Y-Offset",path:"globalShowTimestampYOffset",description:"Adjust the displayed timestamp up or down the Y-Axis, use negative value to move up, positive for down",defaultValue:0,settings:{integer:!0},category:["Global"],showIf:e=>e.globalShowTimestampEnabled}).addSelect({name:"Shape",path:"globalShape",description:"Shape of polygon",category:["Global"],defaultValue:o[0].value,settings:{options:o}}).addBooleanSwitch({name:"Use Color Gradients",path:"globalGradientsEnabled",defaultValue:!0,category:["Global"],description:"Applies gradient color effect to all polygons"}).addColorPicker({name:"Global Fill Color",path:"globalFillColor",category:["Global"],defaultValue:L,description:"Color to use when no overrides or thresholds apply to polygon"}).addColorPicker({name:"Global Border Color",path:"globalPolygonBorderColor",category:["Global"],defaultValue:"rgba(0, 0, 0, 0)",description:"Color of polygon border"}).addUnitPicker({name:"Unit",path:"globalUnitFormat",defaultValue:"short",category:["Global"],description:"Use this unit format when it is not specified in overrides or detected in data"}).addSelect({name:"Stat",path:"globalOperator",description:"Statistic to display",category:["Global"],defaultValue:r[0].value,settings:{options:r}}).addNumberInput({name:"Decimals",path:"globalDecimals",description:"Display specified number of decimals",defaultValue:2,settings:{min:0,integer:!0},category:["Global"]}).addCustomEditor({name:"Global Thresholds",id:"globalThresholdsConfig",path:"globalThresholdsConfig",description:"Default thresholds to be applied to all metrics that do not have an override",editor:Uo,defaultValue:[],category:["Global"]}).addTextInput({name:"Default Clickthrough",path:"globalClickthrough",description:"URL to use when none are defined by overrides or composites",category:["Global"],defaultValue:""}).addBooleanSwitch({name:"Sanitize URL",path:"globalClickthroughSanitizedEnabled",defaultValue:!0,category:["Global"],description:"Sanitizes clickthrough url"}).addBooleanSwitch({name:"Open URL In New Tab",path:"globalClickthroughNewTabEnabled",defaultValue:!0,category:["Global"],description:"Opens clickthrough in a new tab"}).addBooleanSwitch({name:"Enable Custom URL Target",path:"globalClickthroughCustomTargetEnabled",defaultValue:!1,category:["Global"],description:"Use custom target for global clickthrough (this overrides the new tab setting above). Typical values are: _blank|_self|_parent|_top|framename",showIf:e=>!e.globalClickthroughNewTabEnabled}).addTextInput({name:"Custom URL Target",path:"globalClickthroughCustomTarget",description:"Provide a different target to be set in the target attribute of the clickthrough. Typical values are: _blank|_self|_parent|_top|framename",category:["Global"],defaultValue:"",showIf:e=>e.globalClickthroughCustomTargetEnabled}).addTextInput({name:"Global Regex",path:"globalRegexPattern",description:"The values in the specified column are filtered and displayed according to this regular expression. Ex: String: Url|broadcom.com|mirror|location-1 regex: /Url&#92;|(.*?)&#92;|/ Output: broadcom.com",category:["Global Aliasing"],defaultValue:""}).addCustomEditor({name:"Overrides",id:"overrideConfig",path:"overrideConfig",description:"Overrides for multiple metrics",editor:Q,defaultValue:{overrides:[]},category:["Overrides"]}).addBooleanSwitch({name:"Composite Global Aliasing",path:"compositeGlobalAliasingEnabled",defaultValue:!1,description:"Enable / Disable composite global aliasing",category:["Composites"]}).addCustomEditor({name:"Composites",id:"compositeConfig",path:"compositeConfig",description:"Composites allow you to roll up multiple metrics into a single polygon",editor:jo,defaultValue:{composites:[],enabled:!0,animationSpeed:"1500"},category:["Composites"]})})).setSuggestionsSupplier(new class{getSuggestionsForData(e){const{dataSummary:t}=e;t.hasData&&t.hasNumberField&&e.getListAppender({name:"Polystat",pluginId:"grafana-polystat-panel",options:{}}).append({name:"Polystat"})}})})(),u})()));
//# sourceMappingURL=module.js.map